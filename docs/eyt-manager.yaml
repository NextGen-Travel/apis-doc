openapi: 3.0.1

info:
  title: 醫藥淘
  version: 1.0.0
  description: 醫藥淘 後台相關 api

servers:
  - url: http://localhost:1339/api/
  - url: https://api-dev.e-drugsearch.com.hk/api/

components:
  securitySchemes:
    user_token:
      in: header
      type: apiKey
      name: Authorization
      description: 藥房使用者 驗證需要的 token, Bearer xxx
  parameters:
    language:
      in: header
      name: accept-language
      schema:
        type: string
        enum: [ zh, zh-CN, en]
      required: false
      example: 'zh'
    locale:
      in: query
      name: locale
      schema:
        type: string
        enum: ['zh', 'en', 'zh-CN']
      description: 多語系輸出 繁體中文，英文，簡體中文
      required: false
      example: 'zh'
    storeUUID:
      in: path
      name: uuid
      schema:
        type: string
      required: true
      example: bb9ae68e-e856-41cf-85f6-72f7c7a3716e
      description: 藥房唯一代碼
    drugPathNo:
      name: permitNo
      in: path
      description: 藥品唯一代碼
      required: true
      schema:
        type: string
  schemas:
    store :
      type: object
      properties:
        status:
          type: boolean
          description: 狀態
          example: true
        priority:
          type: integer
          enum: [0,1,2,3,4,5,6,7,8,9,10]
          description: 優先度，高的優先輸出
          example: 0
        planType:
          type: string
          description: 方案類型
        adType:
          type: string
          description: 廣告類型
        stockType:
          type: string
          description: 庫存類型
        stockUrl:
          type: string
          description: 庫存 api
        stockSyncParams:
          type: object
          description: 庫存 api 額外參數
          properties:
            location_id:
              type: number
              description: 庫存 erp 系統  location_id
              example: 1
        tel:
          type: string
          description: 聯絡電話
          example: '1234567890'
        type:
          type: string
          description: 類型
        isExcellent:
          type: boolean
          example: false
        isGenuine:
          type: boolean
          example: true
        rxNo:
          type: string
          description: rxNo
        name:
          type: object
          description: 藥局名稱(中文}
          properties:
            zh:
              type: string
              example: '良躍社區藥房'
            zh-CN:
              type: string
              example: '良跃社区药房'
            en:
              type: string
              example: 'A-LIVELY COMMUNITY PHARMACY O/B ABERDEEN KAI-FONG WELFARE ASSOCIATION LIMITED'
        contactNumber:
          type: string
          description: 聯絡電話
        mobileCountryCode:
          type: string
          description: 國碼
          example: 886
        address:
          type: object
          description: 地址
          properties:
            zh:
              type: string
              example: '安和路'
            zh-CN:
              type: string
              example: '安和路'
            en:
              type: string
              example: 'Anhe Road'
        lat:
          type: number
          description: 緯度
          example: 22.25193195
        lng:
          type: number
          description: 經度
          example: 114.13825551
        area:
          type: string
          description: 區域
          example: HONG_KONG_ISLAND
        district:
          type: string
          description: 行政區域
          example: WAN_CHAI
        businessHours:
          type: string
          description: 營業時間
        openingHours:
          description: 營業時間 startTime 為 00:00:00 跟 endTime 為 24:00:00，為『二十四小時不打烊』"
          type: array
          items:
            type: object
            properties:
              isClosed:
                type: number
                description: "本日公休 isClosed=1 則 startTime 跟 endTime 輸出 00:00:00 "
                example: 1
              weekday:
                type: number
                description: isoWeekday 1-7， 週日為 7
                example: 1
              startTime:
                type: string
                description: 營業時間
                example: 00:00:00
              endTime:
                type: string
                example: 12:00:00
        website:
          type: string
          description: 網站
        content:
          type: object
          description: 網站內容
          properties:
            zh:
              type: string
            zh-CN:
              type: string
            en:
              type: string
        tags:
          type: array
          items:
            type: integer
          description: tag id
          example: [1,2,3]
        mainServices:
          type: array
          items:
            type: integer
          description: mainServices id
          example: [1,2,3]
        services:
          type: array
          items:
            type: integer
          description: tag id
          example: [1,2,3]
        images:
          type: array
          items:
            type: integer
          description: image id
          example: [1,2,3]
        plan:
          type: object
          properties:
            email:
              type: string
              example: nextgen@nextgen.com.hk
            messanger:
              type: string
              example: NextgenTravelTechnology
            instagram:
              type: string
              example: nextgentechco
            whatsapp:
              type: string
              example: 85263111356
            wechat:
               type: object
               properties:
                title:
                  type: string
                  example: 女生秘物網購
                appId:
                  type: string
                  example: girlssecrets_shop
                qrcode:
                  type: string
                  example: https://s3.ap-southeast-1.amazonaws.com/medicine-s3.cloudsatlas.com.hk/qrcode_for_gh_1b9715c09cc3_1280_1_42ca67a97d.jpg
        pharmacistGroup:
          type: array
          items:
            type: integer
          description: "群組類型設定，id = label.id "
          example: [1,2,3]
        userLimit:
          type: integer
          example: 5
          description: 帳號人數上限
    OptionsBaseResponse:
      type: object
      properties:
        msg :
          type: string
          example: Success
        data:
          type: array
          items:
            type: object
            properties:
              key:
                type: number
                description: 用來執行搜尋用的參數
                example: 1
              value:
                type: string
                description: 顯示名稱
                example: 名稱
    OptionsModeOneResponse:
      type: object
      properties:
        msg :
          type: string
          example: Success
        data:
          type: array
          items:
            type: object
            properties:
              key:
                type: string
                description: 用來執行搜尋用的參數
                example: default
              value:
                type: string
                description: 顯示名稱
                example: 名稱
    label:
      type: object
      properties:
        name:
          type: string
          example: 白金會員
          description: label 名稱
        info:
          type: string
          example: 說明
          description: label 說明，非必填可以留空
        status:
          type: number
          enum: [0,1]
          example: 1
          description: 狀態，0 :停用，1 :啟用
        discountType:
          type: number
          enum: [0,1,2]
          example: 0
          description: 折扣類型 ， 0 :無折扣，1 :折抵金額， 2： 折抵金額
        discountAmount:
          type: number
          description: 折扣類型 為 1 時，該欄位不能為 0
          example: 0
        discountRate:
          type: number
          description: 折扣類型 為 2 時，該欄位不能為 0
          example: 0
    packageResponse :
      type: object
      properties:
        name:
          type: string
        sku:
          type: string
        dosage:
          type: string
        unit:
          type: string
    drugUpdateRevise :
      type: object
      properties:
        aka:
          type: string
          description: 別名
          example: ''
        enable:
          type: boolean
          description: 啟用
          example: false
        priority:
          type: number
          description: 優先度
          example: 0
        indication:
          type: string
          description: 適應症狀
          example: '頭痛、發燒'
        precaution:
          type: string
          description: 預防措施(注意事項)
          example: '服用後建議不要開車'
        side_effect:
          type: string
          description: 副作用
          example: '注意力不集中'
        productName_zh:
          type: string
          description: 俗名
          example: '退燒藥'
        tags:
          type: array
          description: 藥品分類
          items:
            type: integer
            description: 藥品分類id
          example: [1,4,7]
        brand:
          type: integer
          description: 品牌 id
          example: 1
        dosageForm:
          type: string
          description: 藥劑類型
          example: 'tablet'
        usage:
          type: string
          description: 藥品使用方式
          example: 'oral'
        images:
          type: array
          items:
            type: integer
          description: 團檔 id
          example: [1]
        sku:
          type: array
          items:
            type: string
          description: 商品編碼
          example: ['adasdasdsad', 'sdsdsd']
        packageName:
          type: array
          items:
            type: string
          description: 包裝名稱
          example: ['三十片裝', '十片裝']
        dosage:
          type: array
          items:
            type: integer
          description: 藥品劑量
          example: [1,1]
        unit:
          type: array
          items:
            type: string
          description: 藥品單位
          example: ['tablet','tablet']
        packageImages:
          type: array
          items:
            type: array
            items: 
              type: integer
          nullable: true
          description: 團檔 id
          example: [[1],[3]]
    CollectPost:
      type: object
      properties:
        id:
          type: number
        title:
          type: string
        type:
          type: string
        sort:
          type: number
        viewCount:
          type: number
        isApproved:
          type: boolean
        isDeleted:
          type: boolean
        publishStart:
          type: string
        publishEnd:
          type: string
          nullable: true
        content:
          type: string
        createdAt:
          type: string
        updatedAt:
          type: string
        locale:
          type: string
        collectCount:
          type: number
        status:
          type: string
        submission_date:
          type: string
          nullable: true
        review_date:
          type: string
        archive_date:
          type: string
          nullable: true
        seoDescription:
          type: string
        publishType:
          type: string
        urlSuffix:
          type: string
        uuid:
          type: string
        store:
          type: object
          properties:
            name:
              type: string
            uuid:
              type: string
    CollectDrug:
      type: object
      properties:
        aka:
          type: string
        collectCount:
          type: number
        createdAt:
          type: string
        dosageForm:
          type: string
        enable:
          type: number
        id:
          type: number
        indication:
          type: string
        legal_classification:
          type: string
        nonRegistrationDate:
          type: string
        permitNo:
          type: string
        precaution:
          type: string
        priority:
          type: number
        productName:
          type: string
        productName_zh:
          type: string
        regCertHolderAddress:
          type: string
        regCertHolderCountry:
          type: string
        regCertHolderName:
          type: string
        registration_date:
          type: string
        sale_requirement:
          type: string
        side_effect:
          type: string
        updatedAt:
          type: string
        usage:
          type: string
        ingredients:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
    CollectDrugstore:
      type: object
      properties:
        id:
          type: number
        uuid:
          type: string
        name:
          type: string
        address:
          type: string
        tel:
          type: string
        rxNo:
          type: string
        lat:
          type: number
        lng:
          type: number
        type:
          type: string
        planType:
          type: string
        isExcellent:
          type: boolean
        isGenuine:
          type: boolean
        businessHours:
          type: string
        contactNumber:
          type: string
        mobileCountryCode:
          type: string
        website:
          type: string
        plan:
          type: object
          properties:
            email:
              type: string
            wechat:
              type: object
              properties:
                appId:
                  type: string
                title:
                  type: string
                qrcode:
                  type: string
            whatsapp:
              type: string
            instagram:
              type: string
            messanger:
              type: string
        collectCount:
          type: number
        stockType:
          type: string
        stockMode:
          type: string
        stockUrl:
          type: string
        stockSyncParams:
          type: object
          properties:
            location_id:
              type: number
        createdAt:
          type: string
        updatedAt:
          type: string
        publishedAt:
          type: string
        adType:
          type: string
        priority:
          type: number
        userLimit:
          type: number
        status:
          type: string
        startedAt:
          type: string
        finishedAt:
          type: string     

paths:

  # ====================
  #
  # user
  #

  /users/me :
    get:
      summary: 取得個人資訊
      tags:
        - users
      security:
        - client_token: []
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                  username:
                    type: string
                  email:
                    type: string
                  provider:
                    type: string
                  confirmed:
                    type: boolean
                  blocked:
                    type: boolean
                  createdAt:
                    type: string
                  updatedAt:
                    type: string
                  memo:
                    type: string
                  startedAt:
                    type: string
                  finishedAt:
                    type: string
                  account:
                    type: string
                  store:
                    type: object
                    properties:
                      id:
                        type: number
                      name:
                        type: string
                      uuid:
                        type: string
                      type:
                        type: string
                      stockType:
                        type: string
                      address:
                        type: string
                      lat:
                        type: number
                      lng:
                        type: number
                      contactNumber:
                        type: string
                      businessHours:
                        type: string
                      isExcellent:
                        type: boolean
                      isGenuine:
                        type: boolean
                      website:
                        type: string
                      collectCount:
                        type: number
                      plan:
                        type: object
                        properties:
                          email:
                            type: string
                          website:
                            type: string
                          whatsapp:
                            type: string
                          instagram:
                            type: string
                          messanger:
                            type: string
                          navigation:
                            type: boolean
                          contactNumber:
                            type: string
                          wechat:
                            type: object
                            properties:
                              appId:
                                type: string
                              title:
                                type: string
                              qrcode:
                                type: string
                  role:
                    type: object
                    properties:
                      id:
                        type: number
                      name:
                        type: string
                      type:
                        type: string

  # ====================
  #
  # user role allows
  #

  /admin/user-role-allows:
    get:
      summary: 獲得 Role 列表
      security:
        - user_token: []
      tags:
        - user-role-allows
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: object
                    properties:
                      allows:
                        type: array
                        items:
                          type: object
                          properties:
                            group:
                              type: string
                            groupName:
                              type: string
                            items:
                              type: array
                              items:
                                type: object
                                properties:
                                  key:
                                    type: string
                                  name:
                                    type: string

  # ====================
  #
  # user roles
  #

  /admin/user-roles:
    get:
      summary: 獲得 Role 列表
      security:
        - user_token: []
      tags:
        - user-roles
      parameters:
        - in: query
          name: keyword
          schema:
            type: string
          description: 關鍵字搜尋
        - in: query
          name: pageSize
          schema:
            type: integer
          description: 單頁筆數
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
          description: 第幾頁
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        name:
                          type: string
                        enabled:
                          type: boolean
                        allows:
                          type: array
                          items:
                            type: string
                  pagination:
                    type: object
                    properties:
                      page:
                        type: number
                      pageSize:
                        type: number
                      pageCount:
                        type: number
                      total:
                        type: number
    post:
      summary: 建立 role
      security:
        - user_token: []
      tags:
        - user-roles
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: role name
                enabled:
                  type: boolean
                  description: 是否啟用
                allows:
                  type: array
                  description: 允許列表
                  items:
                    type: string
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: number
  /admin/user-roles/{id}:
    get:
      summary: 獲得 Role
      security:
        - user_token: []
      tags:
        - user-roles
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: role id
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      name:
                        type: string
                      enabled:
                        type: boolean
                      allows:
                        type: array
                        items:
                          type: string
    put:
      summary: 更新 role
      security:
        - user_token: []
      tags:
        - user-roles
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: role id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: role name
                enabled:
                  type: boolean
                  description: 是否啟用
                allows:
                  type: array
                  description: 允許列表
                  items:
                    type: string
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object

  # ====================
  #
  # user-management
  #

  /admin/user-management/staffs:
    get:
      summary: 獲取後台不同store列表下的員工管理列表
      security:
        - user_token: []
      tags:
        - user-management
      parameters:                   
        - in: query
          name: store
          schema:
            type: integer
          description: store id，未帶參數時，預設登入者的 store.id，僅 role 為 superadmin，該參數才生效
        - in: query
          name: keyword
          schema:
            type: string
          description: 關鍵字搜尋
        - in: query
          name: pageSize
          schema:
            type: integer
          description: 單頁筆數
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
          description: 第幾頁                               
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        account:
                          type: string
                        username:
                          type: string
                        id:
                          type: number
                        store:
                          type: object
                          properties:
                            id:
                              type: number
                            name:
                              type: string
                        user_role:
                          type: object
                          properties:
                            id:
                              type: number
                            name:
                              type: string
                        department:
                          type: object
                          properties:
                            id:
                              type: number
                            name:
                              type: string
                        role:
                          type: object
                          properties:
                            id:
                              type: number
                            name:
                              type: string
                  pagination:
                    type: object
                    properties:
                      page:
                        type: number
                      pageSize:
                        type: number
                      pageCount:
                        type: number
                      total:
                        type: number
    post:
      summary: 後台建立staff
      security:
        - user_token: []
      tags:
        - user-management         
      requestBody:
        required: true
        content:
           application/json:
            schema:
              type: object
              properties:
                store:
                  type: integer
                  example: 1
                  description: store id ，未帶參數時，預設登入者的 store.id，僅 role 為 superadmin ，該參數才生效
                username:
                  type: string
                  example: test0628
                department:
                  type: number
                  example: 1
                userRole:
                  type: number
                  example: 1
                role:
                  type: number
                  example: 1
                account:
                  type: string
                  description: 不可重複
                  example: test0666
                password:
                  type: string
                  example: 123456
                  description: 密碼 至少6碼
              required:
                - username
                - role
                - account
                - password
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  id:
                    type: integer
                    example: 1

  /admin/user-management/staffs/{id}:
    get:
      summary: 獲取特定的staff資料
      security:
        - user_token: []
      tags:
        - user-management
      parameters:
        - name: id
          in: path
          description: staff的id
          required: true
          example: 2
          schema:
            type: integer
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: object
                    properties:
                      account:
                        type: string
                      username:
                        type: string
                      id:
                        type: number
                      store:
                        type: object
                        properties:
                          id:
                            type: number
                          name:
                            type: string
                      department:
                        type: object
                        properties:
                          id:
                            type: number
                          name:
                            type: string
                      user_role:
                        type: object
                        properties:
                          id:
                            type: number
                          name:
                            type: string
                      role:
                        type: object
                        properties:
                          id:
                            type: number
                          name:
                            type: string

    put:
      summary: 後台更新staff
      security:
        - user_token: []
      tags:
        - user-management
      parameters:
        - name: id
          in: path
          description: staff的id
          required: true
          example: 2
          schema:
            type: integer
      requestBody:
        required: true
        content:
           application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                  example: test0628
                account:
                  type: string
                  example: test0628
                store:
                  type: number
                  example: 1
                userRole:
                  type: number
                  example: 1
                department:
                  type: number
                  example: 1
                role:
                  type: number
                  example: 1
                password:
                  type: string
                  example: 123456
                  nullable: true
                  description: 新密碼 至少6碼

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
    delete:
      summary: 後台軟刪除staff
      security:
        - user_token: []
      tags:
        - user-management
      parameters:
        - in: query
          name: store
          schema:
            type: integer
          description: store id ，未帶參數時，預設登入者的 store.id，僅 role 為 superadmin ，該參數才生效
        - name: id
          in: path
          description: staff的id
          required: true
          example: 2
          schema:
            type: integer
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string

  /admin/download/user:
    get:
      summary: 員工資料輸出
      security:
        - user_token: []
      tags:
        - user-management
      parameters:
        - in: query
          name: type
          schema:
            type: string
            enum: [pdf, csv, xlsx]
          description: 下載的檔案類型
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      imgKey:
                        type: string
                      url:
                        type: string
                        description: 下載路徑

  # ====================
  #
  # role
  #

  /admin/roleList:
    get:
      summary: 獲取可以選擇的role資料
      security:
        - user_token: []
      tags:
        - role                           
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        name:
                          type: string

  /admin/user-management/roles:
    get:
      summary: 獲取role的列表
      security:
        - user_token: []
      tags:
        - role
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        name:
                          type: string
                        status:
                          type: boolean
                  pagination:
                    type: object
                    properties:
                      page:
                        type: number
                      pageSize:
                        type: number
                      pageCount:
                        type: number
                      total:
                        type: number

    post:
      summary: 後台建立role
      security:
        - user_token: []
      tags:
        - role
      requestBody:
        required: true
        content:
           application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                status:
                  type: number
                menu:
                  type: array
                  items:
                    type: number
              required:
                - name
                - status

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string

  /admin/user-management/roles/{id}:
    get:
      summary: 獲取特定role的資料
      security:
        - user_token: []
      tags:
        - role
      parameters:            
        - name: id
          in: path
          description: role的id
          required: true
          example: 2
          schema:
            type: integer                                       
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      name:
                        type: string
                      status:
                        type: boolean
                      menu:
                        type: array
                        items:
                          type: number

    put:
      summary: 更新特定role的id
      security:
        - user_token: []
      tags:
        - user-management
      parameters:            
        - name: id
          in: path
          description: role的id
          required: true
          example: 2
          schema:
            type: integer
      requestBody:
        required: true
        content:
           application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                status:
                  type: number
                menu:
                  type: array
                  items:
                    type: number  

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string

  /admin/user-management/roles/{id}/delete:
    put:
      summary: 軟刪除特定的role
      security:
        - user_token: []
      tags:
        - role
      parameters:            
        - name: id
          in: path
          description: role的id
          required: true
          example: 2
          schema:
            type: integer

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string

  /admin/user-management/roles/{id}/status:
    put:
      summary: 更新特定role的狀態（開啟或關閉）
      security:
        - user_token: []
      tags:
        - role
      parameters:            
        - name: id
          in: path
          description: role的id
          required: true
          example: 2
          schema:
            type: integer
      requestBody:
        required: true
        content:
           application/json:
            schema:
              type: object
              properties:
                status:
                  type: number

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string

  # ====================
  #
  # other
  #
  /upload:
    post:
      summary: 上傳檔案
      tags:
        - other
      security:
        - user_token: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                files:
                  type: string
                  format: binary
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: number
                    name:
                      type: string
                    alternativeText:
                      type: string
                      nullable: true
                    caption:
                      type: string
                      nullable: true
                    width:
                      type: number
                    height:
                      type: number
                    formats:
                      type: object
                      properties:
                        large:
                          type: object
                          properties:
                            ext:
                              type: string
                            url:
                              type: string
                            hash:
                              type: string
                            mime:
                              type: string
                            name:
                              type: string
                            path:
                              type: string
                              nullable: true
                            size:
                              type: number
                            width:
                              type: number
                            height:
                              type: number
                        small:
                          type: object
                          properties:
                            ext:
                              type: string
                            url:
                              type: string
                            hash:
                              type: string
                            mime:
                              type: string
                            name:
                              type: string
                            path:
                              type: string
                              nullable: true
                            size:
                              type: number
                            width:
                              type: number
                            height:
                              type: number
                        medium:
                          type: object
                          properties:
                            ext:
                              type: string
                            url:
                              type: string
                            hash:
                              type: string
                            mime:
                              type: string
                            name:
                              type: string
                            path:
                              type: string
                              nullable: true
                            size:
                              type: number
                            width:
                              type: number
                            height:
                              type: number
                        thumbnail:
                          type: object
                          properties:
                            ext:
                              type: string
                            url:
                              type: string
                            hash:
                              type: string
                            mime:
                              type: string
                            name:
                              type: string
                            path:
                              type: string
                              nullable: true
                            size:
                              type: number
                            width:
                              type: number
                            height:
                              type: number
                    hash:
                      type: string
                    ext:
                      type: string
                    mime:
                      type: string
                    size:
                      type: number
                    url:
                      type: string
                    previewUrl:
                      type: string
                      nullable: true
                    provider:
                      type: string
                    provider_metadata:
                      type: string
                      nullable: true
                    createdAt:
                      type: string
                    updatedAt:
                      type: string

  # ====================
  #
  # posts
  #

  /admin/posts:
    get:
      summary: 獲取後台文章列表及審核文章列表
      security:
        - user_token: []
      tags:
        - posts
      parameters:
        - in: header
          name: accept-language
          schema:
            type: string
            enum: [ zh, zh-CN, en]
          description: 文章的語言 
        - in: query
          name: reviewStatus
          schema:
            type: string
            enum: [pending,reviewed,reviewArchived,reviewedWithRejected]
          required: false
          description: 搜尋審核文章列表時必須要帶此query 
        - in: query
          name: listStatus
          schema:
            type: string
            enum: [listArchived,review,draft,rejected]
          required: false
          description:  搜尋文章列表時必須要帶此query                     
        - in: query
          name: keyword
          schema:
            type: string
          description: 關鍵字搜尋(title,  store)-模糊搜尋
        - in: query
          name: firstCategory
          schema:
            type: string
          description: 第一層分類篩選
        - in: query
          name: secondCategory
          schema:
            type: string
          description: 第二層分類篩選          
        - in: query
          name: startTime
          schema:
            type: string
            minimum: 1
          description: 篩選功能(起始時間)   
        - in: query
          name: endTime
          schema:
            type: string
          description: 篩選功能(結束時間)   
        - in: query
          name: type
          schema:
            type: string
            minimum: 1
          description: 篩選功能-文章分類  
        - in: query
          name: pageSize
          schema:
            type: integer
          description: 單頁筆數
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
          description: 第幾頁
        - in: query
          name: sort
          description: 排序
          schema:
            type: object
            properties:
              date :
                description: 排序時間
                type: string
                enum:
                  - "asc"
                  - "desc"                                    
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        uuid:
                          type: string
                        title:
                          type: string
                        type:
                          type: object
                          description: 文章類別
                          properties:
                            id:
                              type: number
                            name:
                              type: string
                        categories:
                          type: array
                          description: 文章分類
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                              name:
                                type: string
                        store:
                          type: object
                          description: 公司名稱
                          properties:
                            uuid:
                              type: string
                            name:
                              type: string
                        status:
                          type: string
                        editor:
                          type: string
                          description: 編輯者
                        date:
                          type: string
                        image:
                          type: string
                        reasonForReject:
                          type: string
                          description: 文章退件原因
                  pagination:
                    type: object
                    properties:
                      page:
                        type: number
                        description: 當前頁面
                      pageSize:
                        type: number
                        description: 每頁筆數
                      pageCount:
                        type: number
                        description: 總共頁數
                      total:
                        type: number
                        description: 總共筆數

  /admin/posts/{uuid}:
    get:  
      summary: 後台獲取指定文章
      security:
        - user_token: []
      tags:
        - posts
      parameters:
        - name: uuid
          in: path
          description: 文章uuid
          required: true
          example: e6d37477-7224-4fb6-a56a-d860228d48f4
          schema:
            type: string
      responses:  
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      contents:
                        type: array
                        items:
                          type: object
                          properties:
                            locale:
                              type: string
                            title:
                              type: string
                            uuid:
                              type: string
                            content:
                              type: string
                            seoDescription:
                              type: string
                            image:
                              type: object
                              properties:
                                id:
                                  type: number
                                url:
                                  type: string
                      publishType:
                        type: string
                        enum: [ now , reserve]
                        description: 立即 now, 預約reserve
                      publishStart:
                        type: string
                      publishEnd:
                        type: string
                      urlSuffix:
                        type: string
                      store:
                        type: number
                      editor:
                        type: string
                      type:
                        type: number
                      firstCategory:
                        type: number
                      secondCategory:
                        type: number
                      tags:
                        type: array
                        items:
                          type: number
                      status:
                        type: string
                        enum: [pendingReview,draft]
                        description: superAdmin的話不是pendingPublish就是draft,其他身份點擊儲存並審核則帶pendingReview,不然就是draft
                      updatedAt:
                        type: string
                        description: 最後編輯日期

  /admin/checkDuplicates:
    post:
      summary: 確認特定屬性是否重複（當前僅用來確認urlSuffix)
      security:
        - user_token: []
      tags:
        - posts
      requestBody:
        required: true
        content:
           application/json:
            schema:
              type: object
              properties:
                urlSuffix:
                  type: string
                  description: 後綴網址檢查

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: boolean
                description: true表示有重複，false則否

  /admin/posts/stores:
    get:
      summary: 獲取後台發布者id及name
      security:
        - user_token: []
      tags:
        - posts 
      parameters:
        - in: header
          name: accept-language
          schema:
            type: string
            enum: [ zh, zh-CN, en]
          description: 文章類別的語言                                
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        name:
                          type: string
                  pagination:
                    type: object
                    properties:
                      page:
                        type: number
                      pageSize:
                        type: number
                      pageCount:
                        type: number
                      total:
                        type: number

  /admin/create/posts:
    post:
      summary: 後台建立文章
      security:
        - user_token: []
      tags:
        - posts
      requestBody:
        required: true
        content:
           application/json:
            schema:
              type: object
              properties:
                contents:
                  type: array
                  items:
                    type: object
                    properties:
                      locale:
                        type: string
                      title:
                        type: string
                      uuid:
                        type: string
                      content:
                        type: string
                      seoDescription:
                        type: string
                      image:
                        type: object
                        properties:
                          id:
                            type: number
                          url:
                            type: string
                urlSuffix:
                  type: string
                publishType:
                  type: string
                  enum: [ now , reserve]
                  description: 立即 now, 預約reserve
                publishStart:
                  type: string
                publishEnd:
                  type: string
                publisher:
                  type: string
                type:
                  type: number
                firstCategory:
                  type: number
                secondCategory:
                  type: number
                tags:
                  type: array
                  items:
                    type: number
                store:
                  type: number
                status:
                  type: string
                  enum: [pendingReview,draft]
                  description: superAdmin的話不是pendingPublish就是draft,其他身份點擊儲存並審核則帶pendingReview,不然就是draft
                editor:
                  type: string
              required:
                - contents
                - tags
                - firstCategory
                - urlSuffix
                - type
                - status
                - publishStart
                - publishType

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string

  /admin/update/posts:
    put:
      summary: 後台更新文章
      security:
        - user_token: []
      tags:
        - posts
      requestBody:
        required: true
        content:
           application/json:
            schema:
              type: object
              properties:
                contents:
                  type: array
                  items:
                    type: object
                    properties:
                      locale:
                        type: string
                      title:
                        type: string
                      uuid:
                        type: string
                      content:
                        type: string
                      seoDescription:
                        type: string
                      image:
                        type: object
                        properties:
                          id:
                            type: number
                          url:
                            type: string
                urlSuffix:
                  type: string
                publishType:
                  type: string
                  enum: [ now , reserve]
                  description: 立即 now, 預約reserve
                publishStart:
                  type: string
                publishEnd:
                  type: string
                publisher:
                  type: string
                type:
                  type: number
                firstCategory:
                  type: number
                secondCategory:
                  type: number
                tags:
                  type: array
                  items:
                    type: number
                store:
                  type: number
                status:
                  type: string
                  enum: [pendingReview,draft]
                  description: superAdmin的話不是pendingPublish就是draft,其他身份點擊儲存並審核則帶pendingReview,不然就是draft
                editor:
                  type: string                  
              required:
                - contents
                - tags
                - firstCategory
                - urlSuffix
                - type
                - status
                - publishStart
                - publishType

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string

  /admin/delete/posts/{uuid}:
    put:
      summary: 後台刪除文章 （用put)
      security:
        - user_token: []
      tags:
        - posts
      parameters:
        - name: uuid
          in: path
          description: 文章uuid
          required: true
          example: e6d37477-7224-4fb6-a56a-d860228d48f4
          schema:
            type: string        
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string

  /admin/posts/review/reject:
    put:
      summary: 後台審核文章
      security:
        - user_token: []
      tags:
        - posts
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                contents:
                  type: array
                  items:
                    type: object
                    properties:
                      locale:
                        type: string
                        description: 文章語系
                      reasonForReject:
                        type: string
                        description: 退件原因
                      uuid:
                        type: string
                        description: 文章uuid
              required:
                - contents

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string


  /admin/posts/review/{uuid}/approve:
    put:
      summary: 後台審核文章通過
      security:
        - user_token: []
      tags:
        - posts
      parameters:
        - name: uuid
          in: path
          description: 文章uuid
          required: true
          example: 123456789
          schema:
            type: string
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string   


  /admin/posts/{uuid}/withdraw:
    put:
      summary: 後台列表撤回文章
      security:
        - user_token: []
      tags:
        - posts
      parameters:
        - name: uuid
          in: path
          description: 文章uuid
          required: true
          example: 123456789
          schema:
            type: string
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string      


  /admin/posts/{uuid}/history:
    get:
      summary: 取得文章狀態變化的歷史資料
      security:
        - user_token: []
      tags:
        - posts
      parameters:
        - name: uuid
          in: path
          description: 文章uuid
          required: true
          example: e6d37477-7224-4fb6-a56a-d860228d48f4
          schema:
            type: string 
        - in: query
          name: pageSize
          schema:
            type: integer
          description: 單頁筆數
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
          description: 第幾頁                     
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        status:
                          type: string
                        username:
                          type: string
                        createdAt:
                          type: string
                        description:
                          type: string
                        reasonForReject:
                          type: string
                  pagination:
                    type: object
                    properties:
                      page:
                        type: number
                      pageSize:
                        type: number
                      pageCount:
                        type: number
                      total:
                        type: number


  # ====================
  #
  # stores
  #
  /admin/search/stores:
    get:
      summary: 藥房
      tags:
        - stores
      security:
        - user_token: []
      parameters:
        - in: query
          name: type
          schema:
            type: string
          description: 類型
        - in: query
          name: area
          schema:
            type: string
          description: 指定搜尋區域
        - in: query
          name: district
          explode: true
          schema:
            type: string
          description: 指定行政區
        - in: query
          name: adType
          explode: true
          schema:
            type: string
          description: 廣告類型
        - in: query
          name: stockType
          explode: true
          schema:
            type: string
          description: 庫存類型
        - in: query
          name: status
          explode: true
          schema:
            type: string
          description: 狀態
        - in: query
          name: keyword
          schema:
            type: string
          description: 藥房名稱(中英), 電話, 地址
        - in: query
          name: perPage
          schema:
            type: integer
          description: 每頁筆數
        - in: query
          name: page
          schema:
            type: integer
          description: 頁碼
        - in: query
          name: group
          schema:
            type: string
          description: 集團名稱
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    msg:
                      type: string
                    data:
                          type: array
                          items:
                            type: object
                            properties:
                              uuid:
                                type: string
                              imgUrl:
                                type: string
                              name:
                                type: string
                              area:
                                type: string
                              district:
                                type: string
                              address:
                                type: string
                              type:
                                type: string
                              adType:
                                type: string
                              stockType:
                                type: string
                              status:
                                type: boolean
                    pagination:
                        type: object
                        properties:
                          page:
                            type: integer
                            description: 起始頁數
                            example: 1
                          pageSize:
                            type: integer
                            description: 每頁資料筆數
                            example: 10
                          pageCount:
                            type: integer
                            description: 總頁數
                            example: 23
                          total:
                            type: integer
                            description: 總筆數
                            example: 236

  /admin/stores/detail/{uuid}:
    get:
      summary: 藥房
      tags:
        - stores
      security:
        - user_token: []
      parameters:
        - $ref: '#/components/parameters/storeUUID'
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    msg:
                      type: string
                    data:
                      type: object
                      properties:
                        id:
                          type: number
                          description: store.id
                        uuid:
                          type: string
                        status:
                          type: boolean
                          description: 狀態
                          example: true
                        stockType:
                          type: string
                        type:
                          type: string
                        rxNo:
                          type: string
                        stockUrl:
                          type: string
                        stockSyncParams:
                          type: object
                          description: 庫存 api 額外參數
                          properties:
                            location_id:
                              type: number
                              description: 庫存 erp 系統  location_id
                              example: 1
                        adType:
                          type: string
                        tel:
                          type: string
                        name:
                          type: object
                          properties:
                            zh:
                              type: string
                            zh-CN:
                              type: string
                            en:
                              type: string
                        address:
                          type: object
                          properties:
                            zh:
                              type: string
                            zh-CN:
                              type: string
                            en:
                              type: string
                        lat:
                          type: number
                        lng:
                          type: number
                        contactNumber:
                          type: string
                        mobileCountryCode:
                          type: string
                          description: 國碼
                          example: 886
                        businessHours:
                          type: string
                        openingHours:
                          type: array
                          items:
                            type: object
                            properties:
                              isClosed:
                                type: number
                                description: "本日公休 isClosed=1 則 startTime 跟 endTime 輸出 00:00:00 "
                                example: 1
                              weekday:
                                type: number
                                description: isoWeekday 1-7， 週日為 7
                                example: 1
                              startTime:
                                type: string
                                description: 營業時間
                                example: 00:00:00
                              endTime:
                                type: string
                                example: 12:00:00
                        isExcellent:
                          type: boolean
                        isGenuine:
                          type: boolean
                        website:
                          type: string
                        plan:
                          type: object
                          properties:
                            email:
                              type: string
                              example: nextgen@nextgen.com.hk
                            messanger:
                              type: string
                              example: NextgenTravelTechnology
                            instagram:
                              type: string
                              example: nextgentechco
                            whatsapp:
                              type: string
                              example: 85263111356
                            wechat:
                              type: object
                              properties:
                                title:
                                  type: string
                                  example: 女生秘物網購
                                appId:
                                  type: string
                                  example: girlssecrets_shop
                                qrcode:
                                  type: string
                                  example: https://s3.ap-southeast-1.amazonaws.com/medicine-s3.cloudsatlas.com.hk/qrcode_for_gh_1b9715c09cc3_1280_1_42ca67a97d.jpg
                        planType:
                          type: string
                        content:
                          type: object
                          properties:
                            zh:
                              type: string
                            zh-CN:
                              type: string
                            en:
                              type: string
                        area:
                          type: object
                          properties:
                            key:
                              type: string
                            name:
                              type: string
                        district:
                          type: object
                          properties:
                            key:
                              type: string
                            name:
                              type: string
                        tags:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                              name:
                                type: string
                        mainServices:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                              name:
                                type: string
                        services:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                              name:
                                type: string
                        pharmacistGroup:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                                description: "群組類型設定，id = label.id "
                                example: 1
                              name:
                                type: string
                                description: 群組名稱
                                example: VIP
                        images:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                              url:
                                type: string
                        priority:
                            type: integer
                            enum: [0,1,2,3,4,5,6,7,8,9,10]
                        userLimit:
                          type: integer
                          example: 5
                          description: 帳號人數上限

  /admin/stores/me/group:
    get:
      summary: 取得登入群組的 stores
      tags:
        - stores
      security:
        - user_token: []
      parameters:
        - in: query
          name: type
          schema:
            type: string
          description: 類型
        - in: query
          name: area
          schema:
            type: string
          description: 指定搜尋區域
        - in: query
          name: district
          explode: true
          schema:
            type: string
          description: 指定行政區
        - in: query
          name: adType
          explode: true
          schema:
            type: string
          description: 廣告類型
        - in: query
          name: stockType
          explode: true
          schema:
            type: string
          description: 庫存類型
        - in: query
          name: status
          explode: true
          schema:
            type: string
          description: 狀態
        - in: query
          name: keyword
          schema:
            type: string
          description: 藥房名稱(中英), 電話, 地址
        - in: query
          name: perPage
          schema:
            type: integer
          description: 每頁筆數
        - in: query
          name: page
          schema:
            type: integer
          description: 頁碼
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    msg:
                      type: string
                    data:
                          type: array
                          items:
                            type: object
                            properties:
                              uuid:
                                type: string
                              imgUrl:
                                type: string
                              name:
                                type: string
                              area:
                                type: string
                              district:
                                type: string
                              address:
                                type: string
                              type:
                                type: string
                              adType:
                                type: string
                              stockType:
                                type: string
                              status:
                                type: boolean
                    pagination:
                        type: object
                        properties:
                          page:
                            type: integer
                            description: 起始頁數
                            example: 1
                          pageSize:
                            type: integer
                            description: 每頁資料筆數
                            example: 10
                          pageCount:
                            type: integer
                            description: 總頁數
                            example: 23
                          total:
                            type: integer
                            description: 總筆數
                            example: 236

  /admin/stores/me:
    get:
      summary: 取得登入藥房
      tags:
        - stores
      security:
        - user_token: []
      parameters:
        - $ref: '#/components/parameters/storeUUID'
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    msg:
                      type: string
                    data:
                      type: object
                      properties:
                        uuid:
                          type: string
                        status:
                          type: boolean
                          description: 狀態
                          example: true
                        stockType:
                          type: string
                        type:
                          type: string
                        rxNo:
                          type: string
                        stockUrl:
                          type: string
                        stockSyncParams:
                          type: object
                          description: 庫存 api 額外參數
                          properties:
                            location_id:
                              type: number
                              description: 庫存 erp 系統  location_id
                              example: 1
                        adType:
                          type: string
                        tel:
                          type: string
                        name:
                          type: object
                          properties:
                            zh:
                              type: string
                            zh-CN:
                              type: string
                            en:
                              type: string
                        address:
                          type: object
                          properties:
                            zh:
                              type: string
                            zh-CN:
                              type: string
                            en:
                              type: string
                        lat:
                          type: number
                        lng:
                          type: number
                        contactNumber:
                          type: string
                        mobileCountryCode:
                          type: string
                          description: 國碼
                          example: 886
                        businessHours:
                          type: string
                        openingHours:
                          type: array
                          items:
                            type: object
                            properties:
                              isClosed:
                                type: number
                                description: "本日公休 isClosed=1 則 startTime 跟 endTime 輸出 00:00:00 "
                                example: 1
                              weekday:
                                type: number
                                description: isoWeekday 1-7， 週日為 7
                                example: 1
                              startTime:
                                type: string
                                description: 營業時間
                                example: 00:00:00
                              endTime:
                                type: string
                                example: 12:00:00
                        isExcellent:
                          type: boolean
                        isGenuine:
                          type: boolean
                        website:
                          type: string
                        plan:
                          type: object
                          properties:
                            email:
                              type: string
                              example: nextgen@nextgen.com.hk
                            messanger:
                              type: string
                              example: NextgenTravelTechnology
                            instagram:
                              type: string
                              example: nextgentechco
                            whatsapp:
                              type: string
                              example: 85263111356
                            wechat:
                              type: object
                              properties:
                                title:
                                  type: string
                                  example: 女生秘物網購
                                appId:
                                  type: string
                                  example: girlssecrets_shop
                                qrcode:
                                  type: string
                                  example: https://s3.ap-southeast-1.amazonaws.com/medicine-s3.cloudsatlas.com.hk/qrcode_for_gh_1b9715c09cc3_1280_1_42ca67a97d.jpg
                        planType:
                          type: string
                        content:
                          type: object
                          properties:
                            zh:
                              type: string
                            zh-CN:
                              type: string
                            en:
                              type: string
                        area:
                          type: object
                          properties:
                            key:
                              type: string
                            name:
                              type: string
                        district:
                          type: object
                          properties:
                            key:
                              type: string
                            name:
                              type: string
                        tags:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                              name:
                                type: string
                        mainServices:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                              name:
                                type: string
                        services:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                              name:
                                type: string
                        images:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                              url:
                                type: string
                        priority:
                            type: integer
                            enum: [0,1,2,3,4,5,6,7,8,9,10]
                        userLimit:
                          type: integer
                          example: 5
                          description: 帳號人數上限

  /admin/stores/{uuid} :
    post:
      summary: 修改 藥房
      tags:
        - stores
      security:
        - user_token: []
      parameters:
        - $ref: '#/components/parameters/storeUUID'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/store'
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    msg:
                      type: string

  /admin/stores/uuid:
    get:
      summary: 取得新藥房 uuid
      tags:
        - stores
      security:
        - user_token: []
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    msg:
                      type: string
                    data:
                      type: string
                      example: 0089adf3-187e-4882-b831-e5eb6612f587

  /admin/stores/{uuid}/create:
    post:
      summary: 新增 藥房
      tags:
        - stores
      security:
        - user_token: []
      parameters:
        - $ref: '#/components/parameters/storeUUID'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/store'
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    msg:
                      type: string

  /admin/stores/options/types:
    get:
      summary: 藥房 類型
      tags:
        - stores
      security:
        - user_token: []
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OptionsModeOneResponse'

  /admin/stores/options/planTypes:
    get:
      summary: 藥房 方案
      tags:
        - stores
      security:
        - user_token: []
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OptionsModeOneResponse'

  /admin/stores/options/adTypes:
    get:
      summary: 藥房廣告類型
      tags:
        - stores
      security:
        - user_token: []
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OptionsModeOneResponse'

  /admin/stores/options/stockTypes:
    get:
      summary: 藥房庫存方案
      tags:
        - stores
      security:
        - user_token: []
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OptionsModeOneResponse'

  /admin/stores/options/tags:
    get:
      summary: 藥房 Tags
      tags:
        - stores
      security:
        - user_token: []
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OptionsBaseResponse'

  /admin/stores/options/mainServices:
    get:
      summary: 藥房 主要服務
      tags:
        - stores
      security:
        - user_token: []
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OptionsBaseResponse'

  /admin/stores/options/services:
    get:
      summary: 藥房 服務
      tags:
        - stores
      security:
        - user_token: []
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OptionsBaseResponse'

  /admin/stores/options/groups:
    get:
      summary: 藥房集團列表
      tags:
        - stores
      security:
        - user_token: []
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OptionsBaseResponse'

  /admin/drugs/options/ingredients:
    get:
      summary: 藥品主成份列表
      tags:
        - drugs
      security:
        - user_token: []
      parameters:
        - in: query
          name: keyword
          schema:
            type: string
            example: 阿斯匹林
          description: 搜尋 主成份
        - in: query
          name: perPage
          schema:
            type: integer
            default: 10
          description: 單頁筆數
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
          description: 第幾頁
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OptionsBaseResponse'

  /admin/stores/options/districts:
    get:
      summary: 取的香港行政區域
      tags:
        - stores
      security:
        - user_token: []
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    msg :
                      type: string
                    data:
                      type: array
                      items:
                        type: object
                        properties:
                          key:
                            type: string
                            description: 行政區域代碼
                          value:
                            type: string
                            description: 行政區域 名稱
                          areaKey:
                            type: string
                            description: 區域代碼
                          area:
                            type: string
                            description: 區域名稱
                example:
                  msg : Success
                  data:
                    - key: EASTERN
                      value: 東區
                      areaKey: HONG_KONG_ISLAND
                      area: 香港島
                    - key: WAN_CHAI
                      value: 灣仔區
                      areaKey: HONG_KONG_ISLAND
                      area: 香港島
                    - key: SAI_KUNG
                      value: 西貢區
                      areaKey: NEW_TERRITORIES
                      area: 新界
  /admin/download/store:
    get:
      summary: 會員(藥房)資料輸出
      security:
        - user_token: []
      tags:
        - user-management
      parameters:
        - in: query
          name: type
          schema:
            type: string
            enum: [pdf, csv, xlsx]
          description: 下載的檔案類型
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      imgKey:
                        type: string
                      url:
                        type: string
                        description: 下載路徑



  # ====================
  #
  # labels
  #
  /admin/search/labels:
    get:
      summary: 獲取後台 labels
      security:
        - user_token: []
      tags:
        - labels
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        name:
                          type: string
                        info:
                          type: string
                        status:
                          type: number
                        discountType:
                          type: number
                        discountAmount:
                          type: number
                        discountRate:
                          type: number
                        createdName:
                          type: string
                  pagination:
                    type: object
                    properties:
                      page:
                        type: number
                      pageSize:
                        type: number
                      pageCount:
                        type: number
                      total:
                        type: number

  /admin/labels/detail/{id}:
    get:
      summary: 獲取後台 label 明細
      security:
        - user_token: []
      tags:
        - labels
      parameters:
        - name: id
          in: path
          description: label
          required: true
          example: 1
          schema:
            type: integer
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      name:
                        type: string
                      info:
                        type: string
                      status:
                        type: boolean
                      discountType:
                        type: number
                      discountAmount:
                        type: number
                      discountRate:
                        type: number

  /admin/labels/create:
    post:
      summary: 建立 label
      security:
        - user_token: []
      tags:
        - labels
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/label'
              required:
                - name
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string

  /admin/labels/{id}:
    post:
      summary: 修改 label
      security:
        - user_token: []
      tags:
        - labels
      parameters:
        - name: id
          in: path
          description: label
          required: true
          example: 1
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/label'
              required:
                - name
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string


  # ====================
  #
  # tags
  #

  /admin/post-tags:
    get:
      summary: 獲取後台文章標籤
      security:
        - user_token: []
      tags:
        - tags 
      parameters:
        - in: header
          name: accept-language
          schema:
            type: string
            enum: [ zh, zh-CN, en]
          description: 文章類別的語言                               
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        tagName:
                          type: string
                  pagination:
                    type: object
                    properties:
                      page:
                        type: number
                      pageSize:
                        type: number
                      pageCount:
                        type: number
                      total:
                        type: number


  /admin/post-types:
    get:
      summary: 獲取後台文章類別
      security:
        - user_token: []
      tags:
        - tags 
      parameters:
        - in: header
          name: accept-language
          schema:
            type: string
            enum: [ zh, zh-CN, en]
          description: 文章類別的語言                              
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        name:
                          type: string

  /admin/post-categories:
    get:
      summary: 獲取後台文章分類
      security:
        - user_token: []
      tags:
        - tags 
      parameters:
        - in: header
          name: accept-language
          schema:
            type: string
            enum: [ zh, zh-CN, en]
          description: 文章類別的語言 
        - in: query
          name: parentId
          schema:
            type: string
          description: 第一層分類id（搜尋第二層分類）                                  
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        name:
                          type: string
  
  # ====================
  #
  # drugs
  #
  /admin/drugs:
    get:
      summary: 獲取後台藥品列表
      security:
        - user_token: []
      tags:
        - drugs 
      parameters:
        - in: query
          name: keyword
          schema:
            type: string
            example: 3535
          description: 搜尋 核准字號、藥品學名、名稱
        - in: query
          name: page
          schema:
            type: string
          description: 第幾頁
        - in: query
          name: perPage
          schema:
            type: string
          description: 每頁幾筆
        - in: query
          name: enable
          schema:
            type: string
            example: 1 or 0
          description: 要 filter 找 啟用/不啟用 的藥品
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        permitNo:
                          type: string
                        productName:
                          type: string
                        productName_zh:
                          type: string
                        enable:
                          type: number
                        priority:
                          type: number
                        ingredients:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                              name:
                                type: string
                        legalClassifications:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                              tagName:
                                type: string
                        saleRequirement:
                          type: object
                          properties:
                            id:
                              type: number
                            tagName:
                              type: string
                  pagination:
                    type: object
                    properties:
                      page:
                        type: number
                      pageSize:
                        type: number
                      pageCount:
                        type: number
                      total:
                        type: number

  /admin/drug-updates:
    get:
      summary: 獲取後台藥品審核列表
      security:
        - user_token: []
      tags:
        - drugs
      parameters:
        - in: query
          name: keyword
          schema:
            type: string
            example: 3535
          description: 搜尋 核准字號、藥品學名、名稱
        - in: query
          name: page
          schema:
            type: string
          description: 第幾頁
        - in: query
          name: perPage
          schema:
            type: string
          description: 每頁幾筆
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        permitNo:
                          type: string
                        productName:
                          type: string
                        productName_zh:
                          type: string
                        ingredients:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                              name:
                                type: string
                        legalClassifications:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                              tagName:
                                type: string
                        saleRequirement:
                          type: object
                          properties:
                            id:
                              type: number
                            tagName:
                              type: string
                        count:
                          type: number
                  pagination:
                    type: object
                    properties:
                      page:
                        type: number
                      pageSize:
                        type: number
                      pageCount:
                        type: number
                      total:
                        type: number

  /admin/drug-updates/drugs/{permitNo}:
    get:
      summary: 獲取後台藥品審核資料
      security:
        - user_token: []
      tags:
        - drugs
      parameters:
        - $ref: '#/components/parameters/drugPathNo'
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: object
                    properties:
                      productName:
                        type: string
                      permitNo:
                        type: string
                      productName_zh:
                        type: string
                      aka:
                        type: string
                      indication:
                        type: string
                      side_effect:
                        type: string
                      registration_date:
                        type: string
                      precaution:
                        type: string
                      nonRegistrationDate:
                        type: string
                      priority:
                        type: number
                      enable:
                        type: number
                      dosageForm:
                        type: string
                      usage:
                        type: string
                      images:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            url:
                              type: string
                      id:
                        type: number
                      drugUpdates:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            aka:
                              type: string
                              nullable: true
                            brand:
                              type: object
                              nullable: true
                              properties:
                                id:
                                  type: number
                                tagName:
                                  type: string
                            uuid:
                              type: string
                            createdAt:
                              type: string
                            status:
                              type: string
                            applyUser:
                              type: object
                              properties:
                                id:
                                  type: number
                                account:
                                  type: string
                                store:
                                  type: object
                                  properties:
                                    id:
                                      type: number
                                    name:
                                      type: string
                            usage:
                              type: string
                            images:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: number
                                  url:
                                    type: string
                            packages:
                              type: array
                              items:
                                type: object
                                properties:
                                  sku:
                                    type: string
                                  name:
                                    type: string
                                  unit:
                                    type: string
                                  dosage:
                                    type: number
                                  images:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        id:
                                          type: number
                                        url:
                                          type: string
                            dosageForm:
                              type: string
                            indication:
                              type: string
                            precaution:
                              type: string
                            side_effect:
                              type: string
                            productName_zh:
                              type: string
                            legalClassifications:
                              type: array
                              items:
                                type: number
                      brand:
                        type: object
                        properties:
                          id:
                            type: number
                          tagName:
                            type: string
                      ingredients:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            name:
                              type: string
                      packages:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            name:
                              type: string
                            sku:
                              type: string
                            unit:
                              type: string
                            images:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: number
                                  url:
                                    type: string
                      saleRequirement:
                        type: object
                        properties:
                          id:
                            type: number
                          tagName:
                            type: string
                      holder:
                        type: object
                        properties:
                          id:
                            type: number
                          name:
                            type: string
                          address:
                            type: string
                      legalClassifications:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            tagName:
                              type: string
                      historyRecords:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            createdAt:
                              type: string
                            applyUser:
                              type: object
                              properties:
                                id:
                                  type: number
                                account:
                                  type: string
                                store:
                                  type: object
                                  properties:
                                    id:
                                      type: number
                                    name:
                                      type: string

  /admin/drugs/options/brands:
    get:
      summary: 獲取後台藥品品牌
      security:
        - user_token: []
      tags:
        - drugs 
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OptionsBaseResponse'

  /admin/drugs/options/legalClassifications:
    get:
      summary: 取得藥品分類（法定）
      security:
        - user_token: []
      tags:
        - drugs 
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OptionsBaseResponse'

  /admin/drugs/options/tags:
    get:
      summary: 取得藥品分類
      security:
        - user_token: []
      tags:
        - drugs 
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OptionsBaseResponse'

  /admin/drugs/options/dosageForms:
    get:
      summary: 獲取後台藥品劑型列表
      security:
        - user_token: []
      tags:
        - drugs 
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OptionsModeOneResponse'

  /admin/drugs/options/usages:
    get:
      summary: 獲取後台藥品使用方式列表
      security:
        - user_token: []
      tags:
        - drugs 
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OptionsModeOneResponse'

  /admin/drugs/options/units:
    get:
      summary: 獲取後台藥品 包裝單位(package unit)列表
      security:
        - user_token: []
      tags:
        - drugs
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OptionsModeOneResponse'


  /admin/drug/review/revise/{permitNo}:
    post:
      security:
        - client_token: []
      summary: 藥品異動
      tags:
        - drugs
      parameters:
        - $ref: '#/components/parameters/drugPathNo'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/drugUpdateRevise'
              uuidArr:
                type: array
                items:
                  type: string
                description: cancel的uuid
                example: ['685cc162-b2bf-4fcc-879b-41e05c11d43d']
          application/x-www-form-urlencoded:
            encoding :
              sku :
                style : form
                explode : true
              packageName:
                style : form
                explode : true
              dosageForm :
                style : form
                explode : true
              usage :
                style : form
                explode : true
              dosage :
                style : form
                explode : true
              unit :
                style : form
                explode : true
              images:
                style : form
                explode : true
            schema:
              $ref: '#/components/schemas/drugUpdateRevise'
              uuidArr:
                type: array
                items:
                  type: string
                description: cancel的uuid
                example: ['685cc162-b2bf-4fcc-879b-41e05c11d43d']
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string

  /admin/drug/review/apply/{permitNo}:
    post:
      security:
        - client_token: []
      summary: 藥品異動申請
      tags:
        - drugs
      parameters:
        - $ref: '#/components/parameters/drugPathNo'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/drugUpdateRevise'
          application/x-www-form-urlencoded:
            encoding :
              sku :
                style : form
                explode : true
              packageName:
                style : form
                explode : true
              dosageForm :
                style : form
                explode : true
              usage :
                style : form
                explode : true
              dosage :
                style : form
                explode : true
              unit :
                style : form
                explode : true
              images:
                style : form
                explode : true
            schema:
              $ref: '#/components/schemas/drugUpdateRevise'
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string

  /admin/drug/review/approval/{uuid}:
    post:
      security:
        - client_token: []
      summary: 藥品異動審核
      tags:
        - drugs
      parameters:
        - name: uuid
          in: path
          description: 藥品異動申請 uuid
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  enum: [approval, cancel]
                  description: 審核狀態 
              required:
                - status
          application/x-www-form-urlencoded:
            encoding :
              status :
                style : form
                explode : true
            schema:
              type: object
              properties:
                status:
                  type: string
                  enum: [approval, cancel]
                  description: 審核狀態 

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string

  # ====================
  #
  # department
  #

  /admin/departments:
    get:
      summary: 獲取後台部門
      security:
        - user_token: []
      tags:
        - departments        
      parameters:
        - in: query
          name: keyword
          schema:
            type: string
          description: 關鍵字搜尋
        - in: query
          name: pageSize
          schema:
            type: integer
          description: 單頁筆數
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
          description: 第幾頁                   
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        name:
                          type: string
                        description:
                          type: string
                        status:
                          type: number
                  pagination:
                    type: object
                    properties:
                      page:
                        type: number
                      pageSize:
                        type: number
                      pageCount:
                        type: number
                      total:
                        type: number

    post:
      summary: 後台建立部門
      tags:
        - departments   
      security:
        - user_token: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: number
                name:
                  type: string
                description:
                  type: string
              required:
                - name

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string

  /admin/departments/{id}/status:
    put:
      summary: 後台調整部門狀態
      security:
        - user_token: []
      tags:
        - departments
      parameters:
        - name: id
          in: path
          description: 部門id
          required: true
          example: 1
          schema:
            type: string
      requestBody:
        required: true
        content:
           application/json:
            schema:
              type: object
              properties:
                status:
                  type: boolean
              required:
                - status                
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string

  /admin/departments/{id}:
    get:
      summary: 後台取得特定部門
      security:
        - user_token: []
      tags:
        - departments
      parameters:
        - name: id
          in: path
          description: 部門id
          required: true
          example: 1
          schema:
            type: string        
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      name:
                        type: string
                      status:
                        type: number
                      description:
                        type: string
    put:
      summary: 後台更新部門 
      security:
        - user_token: []
      tags:
        - departments   
      parameters:
        - name: id
          in: path
          description: 部門id
          required: true
          example: 1
          schema:
            type: string             
      requestBody:
        required: true
        content:
           application/json:
            schema:
              type: object
              properties:
                status:
                  type: number
                name:
                  type: string
                description:
                  type: string
              required:
                - name

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
    delete:
      summary: 後台軟刪除部門
      security:
        - user_token: []
      tags:
        - departments
      parameters:
        - name: id
          in: path
          description: 部門id
          required: true
          example: 1
          schema:
            type: string     
                        
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string                    
                   

  /admin/menus:
    get:
      summary: 取得後台 roles設定用的 menus
      security:
        - user_token: []
      tags:
        - user-management
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        key:
                          type: string
                        name:
                          type: string
                        parent:
                          type: number

  /admin/sidebar/menus:
    get:
      summary: 取得後台 側邊欄 menus
      security:
        - user_token: []
      tags:
        - other
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        key:
                          type: string
                        enable:
                          type: number
                        name:
                          type: string
                        parent:
                          type: number


  # ====================
  #
  # faqs
  #
  /admin/faq/options/tags:
    get:
      summary: faq Tags
      tags:
        - faqs
      security:
        - user_token: []
      parameters:
        - $ref: '#/components/parameters/language'
        - $ref: '#/components/parameters/locale'
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/OptionsBaseResponse'

  # ====================
  #
  # members
  #
  /admin/members:
    get:
        summary: get members
        tags:
          - members
        security:
          - user_token: []
        parameters:
        - in: query
          name: keyword
          schema:
            type: string
          description: 關鍵字搜尋
        - in: query
          name: perPage
          schema:
            type: integer
          description: 單頁筆數
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
          description: 第幾頁
        - in: query
          name: platforms
          schema:
            type: array
            items:
              type: string
          description: 註冊平台
        - in: query
          name: gender
          schema:
            type: array
            items:
              type: string
          description: 性別
        - in: query
          name: bookmark
          schema:
            type: array
            items:
              type: string
          description: 書籤
        - in: query
          name: device
          schema:
            type: string
            minimum: 1
          description: 登入裝置
        - in: query
          name: startTime
          schema:
            type: string
            minimum: 1
          description: 開始時間
        - in: query
          name: endTime
          schema:
            type: string
            minimum: 1
          description: 結束時間
        responses:
          200:
            description: 成功的回應
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    msg:
                      type: string
                    data:
                      type: array
                      items:
                        type: object
                        properties:
                          uuid:
                            type: string
                          name:
                            type: string
                          email:
                            type: string
                          gender:
                            type: string
                          created:
                            type: string
                          bookmark:
                            type: object
                            properties:
                              posts:
                                type: integer
                              stores:
                                type: integer
                              drugs:
                                type: integer
                    pagination:
                      type: object
                      properties:
                        page:
                          type: integer
                        pageSize:
                          type: integer
                        pageCount:
                          type: integer
                        total:
                          type: integer
    post:
      summary: 創建新會員
      tags:
          - members
      security:
        - user_token: []
      description: 用於創建新會員的 POST 請求
      requestBody:
        description: 請求主體
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 會員姓名
                email:
                  type: string
                  description: 會員電子郵件地址
                password:
                  type: string
                  description: 會員密碼
              required:
                - name
                - email
                - password
      responses:
        200:
          description: 成功的回應
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    description: 回應消息

  /admin/members/{uuid}:
    get:
      summary: 獲取會員信息
      description: 用於獲取特定會員信息的 GET 請求
      tags:
          - members
      security:
        - user_token: []
      parameters:
        - name: uuid
          in: path
          description: 會員的唯一識別符
          required: true
          example: 1
          schema:
            type: string
      responses:
        200:
          description: 成功的回應
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    description: 回應消息
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                        description: 會員 ID
                      name:
                        type: string
                        description: 會員姓名
                      avatar:
                        type: string
                        description: 會員頭像 URL
                      mobileCountryCode:
                        type: string
                        description: 手機國家代碼
                      mobile:
                        type: string
                        description: 手機號碼
                      email:
                        type: string
                        description: 會員電子郵件地址
                      faxCountryCode:
                        type: string
                        description: 傳真國家代碼
                      fax:
                        type: string
                        description: 傳真號碼
                      uuid:
                        type: string
                        description: 會員唯一識別符
                      gender:
                        type: string
                        description: 會員性別
                      createdAt:
                        type: string
                        description: 會員創建日期
                      platforms:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              description: 平台 ID
                            platform:
                              type: string
                              description: 平台名稱
                            openId:
                              type: string
                              description: 開放 ID
                            email:
                              type: string
                              description: 平台關聯的電子郵件地址
                              
    delete:
      summary: 刪除會員
      tags:
          - members
      security:
        - user_token: []
      description: 用於刪除特定會員的 DELETE 請求
      parameters:
        - name: uuid
          in: path
          description: 會員的唯一識別符
          required: true
          example: 1
          schema:
            type: string
      responses:
        200:
          description: 成功的回應
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    description: 回應消息

  /admin/members/{uuid}/reset-password:
    put:
      summary: 重設會員密碼
      tags:
          - members
      security:
        - user_token: []
      description: 用於重設特定會員密碼的 PUT 請求
      parameters:
        - name: uuid
          in: path
          description: 會員的唯一識別符
          required: true
          example: 1
          schema:
            type: string
      requestBody:
        description: 請求主體
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                password:
                  type: string
                  description: 新的會員密碼
      responses:
        200:
          description: 成功的回應
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    description: 回應消息

  /admin/members/login-unbind/{login_id}:
    put:
      summary: 解綁會員登入帳號
      tags:
          - members
      security:
        - user_token: []
      description: 用於解綁特定會員登入帳號的 PUT 請求
      parameters:
        - name: login_id
          in: path
          description: 該平台 ID
          required: true
          example: 1
          schema:
            type: string
      responses:
        200:
          description: 成功的回應
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    description: 回應消息

  /admin/members/export/{fileType}:
    get:
      summary: 導出會員數據
      tags:
          - members
      security:
        - user_token: []
      description: 用於導出會員數據的 GET 請求
      parameters:
        - name: fileType
          in: path
          description: 導出文件的類型（例如，CSV、Excel等）
          required: true
          schema:
            type: string
      responses:
        200:
          description: 成功的回應
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    description: 回應消息
                  data:
                    type: object
                    properties:
                      url:
                        type: string
                        description: 導出文件的 URL
  /admin/members/{uuid}/bookmark/{type}:
    get:
      summary: 獲取會員書籤內容
      tags:
          - members
      security:
        - user_token: []
      description: 用於獲取特定會員書籤中的內容的 GET 請求
      parameters:
        - name: uuid
          in: path
          description: 會員的唯一識別符
          required: true
          schema:
            type: string
        - name: type
          in: path
          description: 書籤類型（Post、Drug、Drugstore）
          required: true
          schema:
            type: string
        - in: query
          name: page
          schema:
            type: integer
          description: 頁數
        - in: query
          name: perPage
          schema:
            type: integer
          description: 每頁顯示的項目數
      responses:
        200:
          description: 成功的回應
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    description: 回應消息
                  data:
                    oneOf:
                      - $ref: '#/components/schemas/CollectPost'
                      - $ref: '#/components/schemas/CollectDrug'
                      - $ref: '#/components/schemas/CollectDrugstore'
                  pagination:
                    type: object
                    properties:
                      page:
                        type: integer
                      pageSize:
                        type: integer
                      pageCount:
                        type: integer
                      total:
                        type: integer

  /admin/store-stock/{storeUuid}/drug/{permitNo}:
    delete:
      summary: 刪除 特定店舖-特定藥品 的 庫存紀錄
      tags:
          - store stock
      security:
        - user_token: []
      description: 刪除 特定店舖-特定藥品 的 庫存紀錄
      parameters:
        - name: storeUuid
          in: path
          description: 特定店舖 的 唯一識別符
          required: true
          example: 550e8400-e29b-41d4-a716-446655440000
          schema:
            type: string
        - name: permitNo
          in: path
          description: 藥品的香港識別碼
          required: true
          example: HK-41600
          schema:
            type: string
      responses:
        200:
          description: 成功的回應
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    description: 回應消息
    post:
      summary: 建立 特定店舖-特定藥品 的 預設庫存紀錄
      tags:
          - store stock
      security:
        - user_token: []
      description: 建立 特定店舖-特定藥品 的 預設庫存紀錄
      parameters:
        - name: storeUuid
          in: path
          description: 特定店舖 的 唯一識別符
          required: true
          example: 550e8400-e29b-41d4-a716-446655440000
          schema:
            type: string
        - name: permitNo
          in: path
          description: 藥品的香港識別碼
          required: true
          example: HK-41600
          schema:
            type: string
      responses:
        200:
          description: 成功的回應
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    description: 回應消息

  /admin/store-stock/{storeUuid}:
    get:
      summary: 取得特定藥房的藥品列表
      description: 取得特定藥房的藥品列表
      tags:
        - store stock
      security:
        - user_token: []
      parameters:
      - in: query
        name: keyword
        schema:
          type: string
        description: 關鍵字搜尋
      - in: query
        name: perPage
        schema:
          type: integer
        description: 單頁筆數
      - in: query
        name: page
        schema:
          type: integer
          minimum: 1
        description: 第幾頁
      - in: query
        name: brand
        schema:
          type: string
        description: 品牌
      - in: query
        name: ingredients
        schema:
          type: array
          items:
            type: string
        description: 主成份
      - in: query
        name: classification
        schema:
          type: string
        description: 分類
      - in: query
        name: device
        schema:
          type: string
          minimum: 1
        description: 登入裝置
      - in: query
        name: registrationStartDate
        schema:
          type: string
        description: 註冊開始時間(範圍起)
      - in: query
        name: registrationStartDate
        schema:
          type: string
        description: 註冊開始時間(範圍迄)
      - in: query
        name: nonRegistrationStartDate
        schema:
          type: string
        description: 註冊結束時間(範圍起)
      - in: query
        name: nonRegistrationEndDate
        schema:
          type: string
        description: 註冊結束時間(範圍迄)
      responses:
        200:
          description: 成功的回應
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        enabled:
                          type: boolean
                          description: 啟用庫存
                        permitNo:
                          type: string
                          description: 核准字號
                        brand:
                          type: string
                          description: 品牌
                        productName_zh:
                          type: string
                          description: 名稱
                        productName:
                          type: string
                          description: 藥品學名
                        ingredients:
                          type: array
                          description: 主成份
                          items:
                            type: string
                        legalClassifications:
                          type: array
                          description: 分類
                          items:
                            type: string
                        holder:
                          type: string
                          description: 證書持有人
                        registration_date:
                          type: string
                          description: 註冊開始日期
                        nonRegistrationDate:
                          type: string
                          description: 註冊結束日期
                  pagination:
                    type: object
                    properties:
                      page:
                        type: integer
                      pageSize:
                        type: integer
                      pageCount:
                        type: integer
                      total:
                        type: integer

  /admin/store-stock/export/{fileType}:
    get:
      summary: 導出會員數據
      tags:
          - store stock
      security:
        - user_token: []
      description: 用於導出 藥房庫存管理列表 數據的 GET 請求
      parameters:
        - name: fileType
          in: path
          description: 導出文件的類型（例如，CSV、Excel等）
          required: true
          schema:
            type: string
            enum: ['csv', 'xlsx', pdf]
      responses:
        200:
          description: 成功的回應
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    description: 回應消息
                  data:
                    type: object
                    properties:
                      url:
                        type: string
                        description: 導出文件的 URL
  /admin/store-stock/import:
    post:
      summary: 用於匯入 藥房庫存管理列表 數據的 GET 請求
      tags:
        - store stock
      security:
        - user_token: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
      responses:
        200:
          description: 成功的回應
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    description: 回應消息
                    default: Success
