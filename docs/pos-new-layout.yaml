openapi: 3.0.1

info:
  title: POS 新 Layout
  version: 1.0.0
  description: POS新Layout相關API

servers:
  - url: http://localhost:8000/project/public
  - url: https://erp-dev.cloudsatlas.com.hk/public

tags:
  - name: Common
    description: 新版 POS 共用相關 API
  - name: Sale
    description: 新版 POS 銷售相關 API
  - name: Order
    description: 新版 POS 訂單相關 API
  - name: Warehouse
    description: 新版 POS 倉管相關 API
  - name: Member
    description: 新版 POS 客戶相關 API
  - name: Clock In/Out
    description: 新版 POS 打卡相關 API
  - name: Cash Register
    description: 新版 POS 收銀機管理相關 API

components:
  parameters:
    language:
      in: header
      name: accept-language
      schema:
        type: string
      required: false
      example: 'en'
  schemas:
    CustomersResponse:
      type: object
      properties:
        data:
          type: array
          items:
            type: object
            properties:
              id:
                type: number
                description: 客戶ID
              name:
                type: string
                description: 客戶名稱
              member_id:
                type: string
                description: 客戶自訂ID
              mobile:
                type: string
                description: 手機
              total_rp:
                type: string
                description: 客戶積分
              customer_group_name:
                type: string
                description: 客戶群名稱
              contact_due:
                type: number
                description: 客戶未付金額
              status:
                type: boolean
                description: 狀態是否啟用
              balance:
                type: number
                description: 預付款結餘
        links:
          type: object
          properties:
            first:
              type: string
            last:
              type: string
            prev:
              type: string
            next:
              type: string
        meta:
          type: object
          properties:
            current_page:
              type: number
            from:
              type: number
            last_page:
              type: number
            path:
              type: string
            per_page:
              type: number
            to:
              type: number
            total:
              type: number
          
    CreateOrUpdateContact:
      type: object
      properties:
        contact_type:
          type: string
          description: 類型類別
          enum:
          - individual
          - business
        member_id:
          type: string
        customer_group_id:
          type: integer
        supplier_business_name:
          type: string
          description: 公司名稱
        prefix:
          type: string
          description: 稱謂
        first_name:
          type: string
          description: 名字
        middle_name:
          type: string
          description: 中間名
        last_name:
          type: string
          description: 姓氏
        mobile:
          type: string
          description: 行動電話號碼
        alternate_number:
          type: string
        landline:
          type: string
          description: 市話
        email:
          type: string
          description: 信箱
        dob:
          type: string
          description: 生日
        tax_number:
          type: string
        opening_balance:
          type: integer
          description: 起始結餘
        pay_term_number:
          type: string
          description: 支付限制
        pay_term_type:
          type: string
          description: 支付限制單位
          enum:
          - months
          - days
        credit_limit:
          type: string
        address_line_1:
          type: string
          description: 地址1
        address_line_2:
          type: string
          description: 地址2
        city:
          type: string
          description: 縣市
        state:
          type: string
          description: 州
        country:
          type: string
          description: 國家
        zip_code:
          type: string
          description: 郵遞區號
        custom_field1:
          type: string
        custom_field2:
          type: string
        custom_field3:
          type: string
        custom_field4:
          type: string
        custom_field5:
          type: string
        custom_field6:
          type: string
        custom_field7:
          type: string
        custom_field8:
          type: string
        custom_field9:
          type: string
        custom_field10:
          type: string
        shipping_address:
          type: string
          description: 收件地址
        status:
          type: boolean
          description: 是否啟用
      required:  
        - contact_type
        - first_name
        - mobile
        - supplier_business_name
        - status

    ContactDetailResponse:
      type: object
      properties:
        contact_type:
          type: string
          description: 類型類別
          enum:
          - individual
          - business
        member_id:
          type: string
          description: 客戶自訂ID
        customer_group_id:
          type: integer
        supplier_business_name:
          type: string
          description: 供應商公司名稱
        prefix:
          type: string
          description: 稱謂
        first_name:
          type: string
          description: 名字
        middle_name:
          type: string
          description: 中間名
        last_name:
          type: string
          description: 姓氏
        mobile:
          type: string
          description: 行動電話號碼
        alternate_number:
          type: string
        landline:
          type: string
          description: 市話
        email:
          type: string
          description: 信箱
        dob:
          type: string
          description: 生日
        tax_number:
          type: string
        pay_term_number:
          type: string
          description: 支付限制
        pay_term_type:
          type: string
          description: 支付限制單位
          enum:
          - months
          - days
        credit_limit:
          type: string
        address_line_1:
          type: string
          description: 地址1
        address_line_2:
          type: string
          description: 地址2
        city:
          type: string
          description: 縣市
        state:
          type: string
          description: 州
        country:
          type: string
          description: 國家
        zip_code:
          type: string
          description: 郵遞區號
        custom_field1:
          type: string
        custom_field2:
          type: string
        custom_field3:
          type: string
        custom_field4:
          type: string
        custom_field5:
          type: string
        custom_field6:
          type: string
        custom_field7:
          type: string
        custom_field8:
          type: string
        custom_field9:
          type: string
        custom_field10:
          type: string
        shipping_address:
          type: string
          description: 收件地址
        status:
          type: boolean
          description: 是否啟用
        opening_balance:
          type: number
          description: 起始結餘
        balance:
          type: number
          description: 預付款結餘
        due:
          type: number
          description: 到期銷售總額
        return_due:
          type: number
          description: 到期銷售總回報
        total_rp:
          type: number
          description: 紅利點數
        amount_for_rp:
          type: number
          description: 紅利點數可折抵金額
        created_at:
          type: string
          description: 建立日期

    ProductsResponse:
      type: object
      properties:
        data:
          type: array
          items:
            type: object
            properties:
              variation_id:
                type: integer
                description: 產品衍生規格ID
              product_id:
                type: number
                description: 產品ID
              name:
                type: string
                description: 產品名稱
              type:
                type: string
                description: 產品類型
              enable_stock:
                type: number
                description: 是否啟用庫存管理
              product_image:
                type: string
                description: 圖片URL
              variation:
                type: string
                description: 衍生規格名稱
              variation_sub:
                type: string
                description: 第2衍生規格名稱
              default_sell_price:
                type: number
                description: 產品售價 (不含稅) 
              sell_price_inc_tax:
                type: number
                description: 產品售價 (含稅) 
              dpp_inc_tax:
                type: number
                description: 產品成本 (含稅) 
              sub_sku:
                type: string
                description: Sub SKU
              qty_available:
                type: integer
                description: 庫存總數量
              popup_note:
                type: string
                description: 產品提醒
              stock:
                type: array
                items:
                  type: object
                  properties:
                    purchase_line_id:
                      type: integer
                      description: 採購單ID
                    lot_number:
                      type: string
                      description: 批號
                    exp_date:
                      type: string
                      description: 到期日
                    qty_available:
                      type: integer
                      description: 數量
        links:
          type: object
          properties:
            first:
              type: string
            last:
              type: string
            prev:
              type: string
            next:
              type: string
        meta:
          type: object
          properties:
            current_page:
              type: number
            from:
              type: number
            last_page:
              type: number
            path:
              type: string
            per_page:
              type: number
            to:
              type: number
            total:
              type: number

    SingleProductResponse:
      type: object
      properties:
        product_name:
          type: string
          description: 產品名稱
        product_id:
          type: integer
          description: 產品ID
        brand_id:
          type: integer
          description: 品牌ID
        product_image:
            type: string
            description: 圖片URL
        sub_sku:
          type: string
          description: Sub SKU
        default_sell_price:
          type: number
          description: 產品售價 (不含稅) 
        variation_id:
          type: integer
          description: 產品衍生規格ID
        qty_available:
          type: integer
          description: 庫存總量
        unit:
          type: string
          description: 單位
        unit_id:
          type: integer
          description: 單位ID
        brand:
          type: string
          description: 品牌名稱
        stock:
          description: 批號及過期日詳細資訊
          type: array
          items:
            type: object
            properties:
              purchase_line_id:
                type: integer
                description: 採購單ID
              lot_number:
                type: string
                description: 批號
              exp_date:
                type: string
                description: 過期日
              qty_available:
                type: integer
                description: 可用數量
    SuspendTxnResponse:
      type: object
      properties:
        data:
          type: array
          items:
            type: object
            properties:
              id:
                type: number
              transaction_date:
                type: string
                description: 交易日期
              name:
                type: string
                description: 客戶姓名
              final_total:
                type: string
                description: 總金額
              additional_notes:
                type: string
                description: 額外註記
              sale_date:
                type: string
                description: 銷售日期
              business_location:
                type: string
                description: 分店名稱
              total_items:
                type: number
                description: 商品項目總數
              invoice_no:
                type: string
                description: 訂單編號
              sell_lines:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      description: sell line id
                    transaction_id:
                      type: number
                      description: 訂單id
                    product_id:
                      type: number
                      description: 產品id
                    variation_id:
                      type: number
                      description: 衍生規格id
                    quantity:
                      type: number
                      description: 數量
                    mfg_waste_percent:
                      type: string
                    mfg_ingredient_group_id:
                      type: integer
                    quantity_returned:
                      type: string
                    unit_price_before_discount:
                      type: string
                      description: 折扣前單位價錢(不含稅)
                    unit_price:
                      type: string
                      description: 單位價錢(不含稅)
                    line_discount_type:
                      type: string
                      description: 折扣類型
                    line_discount_amount:
                      type: string
                      description: 折扣數值
                    unit_price_inc_tax:
                      type: string
                      description: 單位價錢(含稅)
                    item_tax:
                      type: string
                    tax_id:
                      type: integer
                      description: 稅ID
                    discount_id:
                      type: integer
                      description: 折扣ID
                    lot_no_line_id:
                      type: integer
                      description: 批號及過期日id (purchase_line)
                    sell_line_note:
                      type: string
                      description: 銷售註記
                    so_line_id:
                      type: integer
                    so_quantity_invoiced:
                      type: string
                    res_service_staff_id:
                      type: integer
                    res_line_order_status:
                      type: string
                    parent_sell_line_id:
                      type: string
                    children_type:
                      type: string
                    sub_unit_id:
                      type: integer
                      description: 子單位ID
                    created_at:
                      type: string
                    updated_at:
                      type: string
        links:
          type: object
          properties:
            first:
              type: string
            last:
              type: string
            prev:
              type: string
            next:
              type: string
        meta:
          type: object
          properties:
            current_page:
              type: number
            from:
              type: number
            last_page:
              type: number
            path:
              type: string
            per_page:
              type: number
            to:
              type: number
            total:
              type: number
      
    SingleTxnResponse:
      type: object
      properties:
        transaction_id:
          type: integer
          description: 交易ID
        location_id:
          type: integer
          description: 分店ID
        invoice_no:
          type: string
          description: 發票編號
        transaction_date:
          type: string
          description: 交易日期
        creator_name:
          type: string
          description: 建立者姓名
        additional_notes:
          type: string
          description: 額外註記
        staff_note:
          type: string
          description: 員工備註
        payment_status:
          type: string
          description: 付款狀態
        products:
          description: 產品列表
          type: array
          items:
            type: object
            properties:
              type:
                type: string
                description: 產品類別
              unit_price_before_discount:
                type: integer
                description: 折扣前單位價錢(不含稅)
              unit_price:
                type: integer
                description: 單位價錢(不含稅)
              line_discount_type: 
                type: string
                description: 折扣類別
                enum:
                  - fixed
                  - percentage
              line_discount_amount:
                type: number
                description: 折扣金額(使用者輸入的折扣數字)
              item_tax:
                type: number
                default: 0.00
              tax_id:
                oneOf:
                  - type: integer
                  - type: string
                description: 稅ID
                default: ''
              sell_line_note:
                type: string
                description: 銷售註記
              lot_no_line_id:
                type: integer
                description: 批號及過期日的ID (Table名稱 -> purchase_lines)
              product_id:
                type: integer
                description: 產品ID
              variation_id:
                type: integer
                description: 規格ID
              enable_stock:
                type: integer
                description: 是否有啟用庫存管理
              quantity:
                type: integer
                description: 數量
              product_unit_id:
                type: integer
                description: 產品單位ID
              sub_unit_id:
                type: integer
                description: 產品子單位ID
              base_unit_multiplier:
                type: integer
                description: 基本單位倍數
              unit_price_inc_tax:
                type: integer
                description: 含稅單位價錢
              transaction_sell_line_id:
                type: integer
                description: sell line ID
              default_sell_price:
                type: number
                description: 產品售價 (不含稅) 
              sell_price_inc_tax:
                type: number
                description: 產品售價 (含稅) 
              stock:
                type: array
                items:
                  type: object
                  properties:
                    purchase_line_id:
                      type: integer
                      description: 採購單ID
                    lot_number:
                      type: string
                      description: 批號
                    exp_date:
                      type: string
                      description: 到期日
                    qty_available:
                      type: integer
                      description: 數量
              product_image:
                type: string
                description: 產品圖片
              variation:
                type: string
                description: 規格名稱
              qty_available: 
                type: integer
                description: 庫存總數量
              name:
                type: string
                description: 產品名稱

        final_total:
          type: string
          description: 總金額
        discount:
          description: 全單折扣資訊
          type: object
          properties:
            type: 
              type: string
              description: 折扣類型
            amount: 
              type: number
              description: 折扣數量
            price_group_id: 
              type: number
              description: 售價群組
        customer:
          description: 會員資訊
          type: object
          properties:
            id:
              type: number
              description: 客戶ID
            name:
              type: string
              description: 客戶名稱
            member_id:
              type: string
              description: 客戶自訂ID
            mobile:
              type: string
              description: 手機
            total_rp:
              type: string
              description: 客戶積分
            customer_group_name:
              type: string
              description: 客戶群名稱
            contact_due:
              type: number
              description: 客戶未付金額

        transport:
          description: 運輸資訊
          type: object
          properties:
            shipping_address:
              type: string
              description: 送貨地址
            shipping_charges:
              type: integer
              description: 運費
            shipping_details:
              type: string
              description: 運輸詳情
            shipping_status:
              type: string
              description: 發貨狀態
            delivered_to:
              type: string
              description: 已送達至
        service:
          description: 服務資訊
          type: object
          properties:
            packing_charge:
              type: integer
              description: 包裝支出
            packing_charge_type:
              type: string
              enum:
                - "fixed"
                - "percentage"
              description: 包裝支出的類型(固定 or 百分比)
            service_custom_field_1:
              type: string
              description: 服務自定欄１
            service_custom_field_2:
              type: string
              description: 服務自定欄2
            service_custom_field_3:
              type: string
              description: 服務自定欄3
            service_custom_field_4:
              type: string
              description: 服務自定欄4
            service_custom_field_5:
              type: string
              description: 服務自定欄5
            service_custom_field_6:
              type: string
              description: 服務自定欄6
        recurring:
          description: 預定資訊
          type: object
          properties:
            recur_interval:
              type: integer
              description: 預定發票間隔
            recur_interval_type:
              type: string
              enum:
              - "days"
              - "months"
              - "years"
              description: 預定發票間隔類型
            recur_repetitions:
              type: integer
              description: 預定發票間隔類型
        rp_info:
          description: 積分資訊
          type: object
          properties:
            rp_redeemed:
              type: integer
              description: 已兌換積分
            rp_redeemed_amount:
              type: string
              description: 已兌換積分轉換後的金額
            rp_earned:
              type: integer
              description: 獲取的積分
        payment:
          description: 付款資訊
          type: array
          items:
            type: object
            properties:
              payment_id:
                type: integer
                description: payment table id
              amount:
                type: integer
                description: 付款金額
              method:
                type: string
                description: 付款方式
              account_id:
                type: integer
              card_number:
                type: string
              card_holder_name:
                type: string
              card_transaction_number:
                type: string
              card_type: 
                type: string
              card_month:
                type: string
              card_year:
                type: string
              card_security:
                type: string
              cheque_number:
                type: string
              bank_account_number:
                type: string
              note:
                type: string
            

    CustomTagsResponse:
      type: object
      properties:
        data:
          type: array
          items:
            type: object
            properties:
              value:
                type: number
                description: id
              name:
                type: string
                description: 名稱
        links:
          description: LazyLoading資料
          type: object
          properties:
            first:
              type: string
              description: 最初頁網址
            last:
              type: string
              description: 最末頁網址
            prev:
              type: string
              description: 上一頁網址
            next:
              type: string
              description: 下一頁網址
        meta:
          description: 分頁資料
          type: object
          properties:
            current_page:
              type: integer
              description: 當前頁碼
            last_page:
              type: integer
              description: 最末頁碼
            path:
              type: string
              description: API網址
            per_page:
              type: integer
              description: 每頁筆數
            from:
              type: integer
              description: 本次資料開始筆數
            to:
              type: integer
              description: 本次資料結束筆數
            total:
              type: integer
              description: 總筆數

    ContactCustomTagsResponse:
      type: object
      properties:
        data:
          type: array
          items:
            type: object
            properties:
              value:
                type: number
                description: id
              name:
                type: string
                description: 名稱
        links:
          description: LazyLoading資料
          type: object
          properties:
            first:
              type: string
              description: 最初頁網址
            last:
              type: string
              description: 最末頁網址
            prev:
              type: string
              description: 上一頁網址
            next:
              type: string
              description: 下一頁網址
        meta:
          description: 分頁資料
          type: object
          properties:
            current_page:
              type: integer
              description: 當前頁碼
            last_page:
              type: integer
              description: 最末頁碼
            path:
              type: string
              description: API網址
            per_page:
              type: integer
              description: 每頁筆數
            from:
              type: integer
              description: 本次資料開始筆數
            to:
              type: integer
              description: 本次資料結束筆數
            total:
              type: integer
              description: 總筆數

    CreateTransaction:
      type: object
      properties:
        is_medicine:
          type: integer
          description: 是否為配藥訂單
          default: 0
        location_id: 
          type: number
          description: 營業地點ID
        sub_type:
          type: string
        contact_id:
          type: integer
          description: 客戶ID
        search_product:
          type: string
        pay_term_number:
          type: integer
        pay_term_type:
          type: string
        types_of_service_id:
          type: integer
          description: 服務類型ID
        types_of_service_price_group:
          type: integer
        is_recurring:
          type: number
          description: 是否為預定發票
        packing_charge:
          type: integer
          description: 包裝支出
        packing_charge_type:
          type: string
          enum:
            - "fixed"
            - "percentage"
          description: 包裝支出的類型(固定 or 百分比)
        service_custom_field_1:
          type: string
          description: 服務自定欄１
        service_custom_field_2:
          type: string
          description: 服務自定欄2
        service_custom_field_3:
          type: string
          description: 服務自定欄3
        service_custom_field_4:
          type: string
          description: 服務自定欄4
        service_custom_field_5:
          type: string
          description: 服務自定欄5
        service_custom_field_6:
          type: string
          description: 服務自定欄6
        res_table_id:
          type: integer
          description: 餐桌ID
        res_waiter_id:
          type: integer
          description: 服務生ID
        transporter_id:
          type: integer
          description: 車輛ID
        driver_id:
          type: integer
          description: 司機ID
        sell_price_tax:
          type: string
          enum:
            - includes
            - excludes
          default: includes
        # invoice_scheme_id:
        #   type: integer
        #   description: 發票計畫ID
        products:
          type: array
          items:
            type: object
            properties:
              product_type:
                type: string
                description: 產品類別
              unit_price:
                type: integer
                description: 單位價錢(不含稅)
              line_discount_type: 
                type: string
                description: 折扣類別
                enum:
                  - fixed
                  - percentage
              line_discount_amount:
                type: number
                description: 折扣金額(使用者輸入的折扣數字)
              item_tax:
                type: number
                default: 0.00
              tax_id:
                oneOf:
                  - type: integer
                  - type: string
                description: 稅ID
                default: ''
              sell_line_note:
                type: string
                description: 銷售註記
              lot_no_line_id:
                type: integer
                description: 批號及過期日的ID (Table名稱 -> purchase_lines)
              product_id:
                type: integer
                description: 產品ID
              variation_id:
                type: integer
                description: 規格ID
              enable_stock:
                type: integer
                description: 是否有啟用庫存管理
              quantity:
                type: integer
                description: 數量
              product_unit_id:
                type: integer
                description: 產品單位ID
              sub_unit_id:
                type: integer
                description: 產品子單位ID
              base_unit_multiplier:
                type: integer
                description: 基本單位倍數
              unit_price_inc_tax:
                type: integer
                description: 含稅單位價錢
            required:
              - product_type
              - unit_price
              - item_tax
              - tax_id
              - product_id
              - variation_id
              - enable_stock
              - unit_price_inc_tax
              - quantity
        discount_type:
          type: string
          enum:
            - "fixed"
            - "percentage"
          description: 折扣類型
        discount_amount:
          type: integer
          description: 折扣金額
        rp_redeemed:
          type: integer
          description: 已兌換積分
        rp_redeemed_amount:
          type: integer
          description: 已兌換積分轉換後的金額
        tax_rate_id:
          oneOf:
            - type: integer
            - type: string
          default: ''
        tax_calculation_amount:
          type: integer
        shipping_details:
          type: string
          description: 運輸詳情
        shipping_address:
          type: string
          description: 送貨地址
        shipping_status:
          type: string
          description: 發貨狀態
        delivered_to:
          type: string
          description: 已送達至
        shipping_charges:
          type: integer
          description: 運費
        advance_balance:
          type: integer
        payment:
          description: 付款資訊
          type: array
          items:
            type: object
            required:
              - amount
              - method
            properties:
              amount:
                type: integer
                description: 交易總金額
              method:
                type: string
                description: 付款方式
              account_id:
                type: integer
              card_number:
                type: string
              card_holder_name:
                type: string
              card_transaction_number:
                type: string
              card_type:
                type: string
              card_month:
                type: integer
              card_year:
                type: integer
              card_security:
                type: string
              cheque_number:
                type: string
              bank_account_number:
                type: string
              transaction_no_1:
                type: string
              transaction_no_2:
                type: string
              transaction_no_3:
                type: string
              transaction_no_4:
                type: string
              transaction_no_5:
                type: string
              transaction_no_6:
                type: string
              transaction_no_7:
                type: string
              note:
                type: string
                description: 付款註記
        sale_note:
          type: string
          description: 銷售備註
        staff_note:
          type: string
          description: 員工備註
        change_return:
          type: integer
          description: 退費金額
          default: 0.00
        additional_notes:
          type: string
          description: 額外備註
        is_suspend:
          type: number
          description: 是否為暫存訂單
        recur_interval:
          type: integer
          description: 預定發票間隔
        recur_interval_type:
          type: string
          enum:
            - "days"
            - "months"
            - "years"
          description: 預定發票間隔類型
        recur_repetitions:
          type: integer
          description: 預定發票重複次數
        subscription_repeat_on:
          type: string
          description: 預定發票重複日期 (當預定發票間隔類型為 months 時才需要)
        size:
          type: string
        is_enabled_stock:
          type: number
          description: 是否有啟用庫存
        is_credit_sale:
          type: number
          description: 是否為借記銷售
        final_total:
          type: integer
          description: 總金額
        status:
          type: string
          description: 訂單狀態
        cny_total:
          type: integer
          description: 人民幣總金額
      # Both properties are required
      required:  
        - location_id
        - contact_id
        - tax_rate_id
        - change_return
        - products
        - final_total
        - status


    UpdateTransaction:
      type: object
      properties:
        location_id: 
          type: number
          description: 營業地點ID
        sub_type:
          type: string
        contact_id:
          type: integer
          description: 客戶ID
        search_product:
          type: string
        pay_term_number:
          type: integer
        pay_term_type:
          type: string
        res_table_id:
          type: integer
          description: 餐桌ID
        res_waiter_id:
          type: integer
          description: 服務生ID
        is_recurring:
          type: integer
          description: 是否為預定發票
        transporter_id:
          type: integer
          description: 車輛ID
        driver_id:
          type: integer
          description: 司機ID
        sell_price_tax:
          type: string
          enum:
            - includes
            - excludes
          default: includes
        products:
          type: array
          items:
            type: object
            properties:
              product_type:
                type: string
                description: 產品類別
              unit_price:
                type: integer
                description: 單位價錢(不含稅)
              line_discount_amount:
                type: number
                description: 折扣金額(使用者輸入的折扣數字)
              line_discount_type: 
                type: string
                description: 折扣類別
                enum:
                  - fixed
                  - percentage
              item_tax:
                type: number
                default: 0.00
              tax_id:
                oneOf:
                  - type: integer
                  - type: string
                description: 稅ID
                default: ''
              sell_line_note:
                type: string
                description: 銷售註記
              transaction_sell_line_id:
                type: integer
                description: sell line table ID
              product_id:
                type: integer
                description: 產品ID
              variation_id:
                type: integer
                description: 規格ID
              enable_stock:
                type: integer
                description: 是否有啟用庫存管理
              quantity:
                type: integer
                description: 數量
              product_unit_id:
                type: integer
                description: 產品單位ID
              sub_unit_id:
                type: integer
                description: 產品子單位ID
              base_unit_multiplier:
                type: integer
                description: 基本單位倍數
              unit_price_inc_tax:
                type: integer
                description: 含稅單位價錢
              lot_no_line_id:
                type: integer
                description: 批號及過期日的ID (Table名稱 -> purchase_lines)
            required:
              - product_type
              - unit_price
              - item_tax
              - tax_id
              - product_id
              - variation_id
              - enable_stock
              - unit_price_inc_tax
              - quantity
        discount_type:
          type: string
          enum:
            - "fixed"
            - "percentage"
          description: 折扣類型
        discount_amount:
          type: integer
          description: 折扣金額
        rp_redeemed:
          type: integer
          description: 已兌換積分
        rp_redeemed_amount:
          type: integer
          description: 已兌換積分轉換後的金額
        tax_rate_id:
          oneOf:
            - type: integer
            - type: string
          default: ''
        tax_calculation_amount:
          type: integer
        shipping_details:
          type: string
          description: 運輸詳情
        shipping_address:
          type: string
          description: 送貨地址
        shipping_status:
          type: string
          description: 發貨狀態
        delivered_to:
          type: string
          description: 已送達至
        shipping_charges:
          type: integer
          description: 運費
        advance_balance:
          type: integer
        payment:
          description: 付款資訊
          type: array
          items:
            type: object
            required:
              - amount
              - method
            properties:
              payment_id:
                type: integer
                description: Payment table id
              amount:
                type: integer
                description: 交易總金額
              method:
                type: string
                description: 付款方式
              account_id:
                type: integer
              card_number:
                type: string
              card_holder_name:
                type: string
              card_transaction_number:
                type: string
              card_type:
                type: string
              card_month:
                type: integer
              card_year:
                type: integer
              card_security:
                type: string
              cheque_number:
                type: string
              bank_account_number:
                type: string
              transaction_no_1:
                type: string
              transaction_no_2:
                type: string
              transaction_no_3:
                type: string
              transaction_no_4:
                type: string
              transaction_no_5:
                type: string
              transaction_no_6:
                type: string
              transaction_no_7:
                type: string
              note:
                type: string
                description: 付款註記
        sale_note:
          type: string
          description: 銷售備註
        staff_note:
          type: string
          description: 員工備註
        change_return:
          type: integer
          description: 退費金額
          default: 0.00
        additional_notes:
          type: string
          description: 額外備註
        is_suspend:
          type: number
          description: 是否為暫存訂單
        recur_interval:
          type: integer
          description: 預定發票間隔
        recur_interval_type:
          type: string
          enum:
            - "days"
            - "months"
            - "years"
          description: 預定發票間隔類型
        recur_repetitions:
          type: integer
          description: 預定發票重複次數
        subscription_repeat_on:
          type: string
          description: 預定發票重複日期 (當預定發票間隔類型為 months 時才需要)
        size:
          type: string
        is_enabled_stock:
          type: number
          description: 是否有啟用庫存
        is_credit_sale:
          type: number
          description: 是否為借記銷售
        final_total:
          type: integer
          description: 總金額
        status:
          type: string
          description: 訂單狀態
        types_of_service_id:
          type: integer
          description: 服務類型ID
        types_of_service_price_group:
          type: integer
        packing_charge:
          type: integer
          description: 包裝支出
        packing_charge_type:
          type: string
          enum:
            - "fixed"
            - "percentage"
          description: 包裝支出的類型(固定 or 百分比)
        service_custom_field_1:
          type: string
          description: 服務自定欄１
        service_custom_field_2:
          type: string
          description: 服務自定欄2
        service_custom_field_3:
          type: string
          description: 服務自定欄3
        service_custom_field_4:
          type: string
          description: 服務自定欄4
        service_custom_field_5:
          type: string
          description: 服務自定欄5
        service_custom_field_6:
          type: string
          description: 服務自定欄6
        # invoice_scheme_id:
        #   type: integer
        #   description: 發票計畫ID
      # Both properties are required
      required:  
        - location_id
        - contact_id
        - tax_rate_id
        - change_return
        - products
        - final_total
        - status

    AddNewTransactionPayment:
      type: object
      properties:
        location_id:
          type: number
          description: 營業地點ID
        sale_note:
          type: string
          description: 銷售註記
        staff_note:
          type: string
          description: 員工註記
        payment:
          description: 付款資訊
          type: array
          items:
            type: object
            required:
              - amount
              - method
            properties:
              amount:
                type: number
                description: 交易總金額
              method:
                type: string
                description: 付款方式
              card_number:
                type: string
                description: 信用卡號碼
              card_holder_name:
                type: string
                description: 信用卡持有人
              card_transaction_number:
                type: string
                description: 信用卡交易號碼
              card_type:
                type: string
                description: 信用卡種類
                enum:
                - credit
                - debit
                - visa
                - master
              card_month:
                type: integer
                description: 月
              card_year:
                type: integer
                description: 年
              card_security:
                type: string
                description: 安全碼
              cheque_number:
                type: string
                description: 支票號碼
              bank_account_number:
                type: string
                description: 銀行賬號
              transaction_no:
                type: string
                description: 銷售備註
              note:
                type: string
                description: 銷售備註
      required:
        - location_id
        - payment

    SetLocationAccess:
      type: object
      properties:
        location_id:
          type: number
          description: 營業地點ID
      required:
        - location_id

    TransactionsResponse:
      type: object
      properties:
        success:
          type: number
          description: 是否成功
        msg:
          type: string
          description: 訊息
        receipt:
          type: string
          description: 發票
        transaction_id:
          type: number
          description: 銷售id
    BusinessInfoResponse:
      type: object
      properties:
        business_id:
          type: number
          description: 總店ID
        default_location_id:
          type: number
          description: 預設分店ID
        default_invoice_id:
          type: number
          description: 預設發票方案ID
        employee_id:
          type: number
          description: 店員ID
        employee_name:
          type: string
          description: 店員名稱
        enable_rp:
          type: number
          description: 是否啟用積分(1=啟用, 0=關閉)
        enable_inline_tax:
          type: integer
          description: 是否啟用啟用含稅價Inc. tax，於採購、銷售和POS(1=啟用, 0=關閉)
        rp_name:
          type: string
          description: 積分顯示名稱
        amount_for_unit_rp:
          type: string
          description: 每一積分需要的消費金額
        min_order_total_for_rp:
          type: string
          description: 可獲獎勵的最低消費金額
        max_rp_per_order:
          type: integer
          description: 每個訂單的最大積分額
        redeem_amount_per_unit_rp:
          type: string
          description: 每一積分的兌換金額
        min_order_total_for_redeem:
          type: string
          description: 可兌換積分的最低消費額
        min_redeem_point:
          type: integer
          description: 最低兌換積分
        max_redeem_point:
          type: integer
          description: 每個訂單的最大兌換積分
        rp_expiry_period:
          type: integer
          description: 獎勵積分有效期限
        rp_expiry_type:
          type: string
          description: 獎勵積分有效期限單位(年/月)
        currency_symbol:
          type: string
          description: 貨幣符號
        currency_code:
          type: string
          description: 貨幣代碼
        currency_symbol_placement:
          type: string
          description: 貨幣符號位置
          enum:
          - before
          - after
        date_format:
          type: string
          description: 全站日期格式
        denominations:
          type: array
          description: 貨幣面額
          items:
            type: integer
        alert_pos_cash:
          type: integer
          description: 收銀現金額度提醒
        show_cost_on_edit_product:
          type: integer
          description: 是否在”編輯商品資訊“顯示成本
        add_currency_for_cny:
          type: integer
          description: 是否啟用人民幣
        exchange_rate_between_hk_and_cny:
          type: number
          description: 港幣及人民幣匯率
        keyboard_shortcuts:
          type: object
          description: 快捷鍵
          properties:
            pay_n_ckeckout:
              type: object
              description: 結帳
              properties:
                shortcut:
                  type: string
                  description: 快捷鍵
                description:
                  type: string
                  description: 快捷鍵說明
            cancel:
              type: object
              description: 取消
              properties:
                shortcut:
                  type: string
                  description: 快捷鍵
                description:
                  type: string
                  description: 快捷鍵說明
            recent_product_quantity:
              type: object
              description: 前往產品數量
              properties:
                shortcut:
                  type: string
                  description: 快捷鍵
                description:
                  type: string
                  description: 快捷鍵說明
            edit_discount:
              type: object
              description: 編輯折扣
              properties:
                shortcut:
                  type: string
                  description: 快捷鍵
                description:
                  type: string
                  description: 快捷鍵說明
            add_payment_row:
              type: object
              description: 增加付費
              properties:
                shortcut:
                  type: string
                  description: 快捷鍵
                description:
                  type: string
                  description: 快捷鍵說明
        allow_pos_overselling:
          type: integer
          description: 是否允許POS超賣

    LocationListResponse:
      type: object
      properties:
        data:
          type: array
          items:
            type: object
            properties:
              value:
                type: number
                description: 下拉選單的value
              name:
                type: string
                description: 分店名稱
        links:
          description: LazyLoading資料
          type: object
          properties:
            first:
              type: string
              description: 最初頁網址
            last:
              type: string
              description: 最末頁網址
            prev:
              type: string
              description: 上一頁網址
            next:
              type: string
              description: 下一頁網址
        meta:
          description: 分頁資料
          type: object
          properties:
            current_page:
              type: integer
              description: 當前頁碼
            last_page:
              type: integer
              description: 最末頁碼
            path:
              type: string
              description: API網址
            per_page:
              type: integer
              description: 每頁筆數
            from:
              type: integer
              description: 本次資料開始筆數
            to:
              type: integer
              description: 本次資料結束筆數
            total:
              type: integer
              description: 總筆數


    TransportStatusResponse:
      type: object
      properties:
        data:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
                description: 運輸狀態(翻譯後的顯示文字)
              value:
                type: string
                description: 下拉選單的value
        links:
          description: LazyLoading資料
          type: object
          properties:
            first:
              type: string
              description: 最初頁網址
            last:
              type: string
              description: 最末頁網址
            prev:
              type: string
              description: 上一頁網址
            next:
              type: string
              description: 下一頁網址
        meta:
          description: 分頁資料
          type: object
          properties:
            current_page:
              type: integer
              description: 當前頁碼
            last_page:
              type: integer
              description: 最末頁碼
            path:
              type: string
              description: API網址
            per_page:
              type: integer
              description: 每頁筆數
            from:
              type: integer
              description: 本次資料開始筆數
            to:
              type: integer
              description: 本次資料結束筆數
            total:
              type: integer
              description: 總筆數

    InvoiceSchemeResponse:
      type: object
      properties:
        data:  
          type: array
          items:
            type: object
            properties:
              name:
                type: string
                description: 發票方案名稱
              value:
                type: string
                description: 下拉選單的value
        links:
          description: LazyLoading資料
          type: object
          properties:
            first:
              type: string
              description: 最初頁網址
            last:
              type: string
              description: 最末頁網址
            prev:
              type: string
              description: 上一頁網址
            next:
              type: string
              description: 下一頁網址
        meta:
          description: 分頁資料
          type: object
          properties:
            current_page:
              type: integer
              description: 當前頁碼
            last_page:
              type: integer
              description: 最末頁碼
            path:
              type: string
              description: API網址
            per_page:
              type: integer
              description: 每頁筆數
            from:
              type: integer
              description: 本次資料開始筆數
            to:
              type: integer
              description: 本次資料結束筆數
            total:
              type: integer
              description: 總筆數

    ContactGroupResponse:
      type: object
      properties:
        data:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
                description: 客戶群顯示文字
              value:
                type: string
                description: 下拉選單的value
        links:
          type: object
          properties:
            first:
              type: string
            last:
              type: string
            prev:
              type: string
            next:
              type: string
        meta:
          type: object
          properties:
            current_page:
              type: number
            from:
              type: number
            last_page:
              type: number
            path:
              type: string
            per_page:
              type: number
            to:
              type: number
            total:
              type: number

    PaymentTypeResponse:
      type: object
      properties:
        data:  
          type: array
          items:
            type: object
            properties:
              name:
                type: string
                description: 付款方式（翻譯後的顯示名稱）
              value:
                type: string
                description: 下拉選單的value
              ex_rate:
                type: integer
                description: 匯率(只有custom_pay_pos_1~5有這個欄位)
        links:
          description: LazyLoading資料
          type: object
          properties:
            first:
              type: string
              description: 最初頁網址
            last:
              type: string
              description: 最末頁網址
            prev:
              type: string
              description: 上一頁網址
            next:
              type: string
              description: 下一頁網址
        meta:
          description: 分頁資料
          type: object
          properties:
            current_page:
              type: integer
              description: 當前頁碼
            last_page:
              type: integer
              description: 最末頁碼
            path:
              type: string
              description: API網址
            per_page:
              type: integer
              description: 每頁筆數
            from:
              type: integer
              description: 本次資料開始筆數
            to:
              type: integer
              description: 本次資料結束筆數
            total:
              type: integer
              description: 總筆數

    PriceGroupsResponse:
      type: object
      properties:
        data:  
          type: array
          items:
            type: object
            properties:
              name:
                type: string
                description: 售價群組名稱
              value:
                type: number
                description: 下拉選單的value
        links:
          description: LazyLoading資料
          type: object
          properties:
            first:
              type: string
              description: 最初頁網址
            last:
              type: string
              description: 最末頁網址
            prev:
              type: string
              description: 上一頁網址
            next:
              type: string
              description: 下一頁網址
        meta:
          description: 分頁資料
          type: object
          properties:
            current_page:
              type: integer
              description: 當前頁碼
            last_page:
              type: integer
              description: 最末頁碼
            path:
              type: string
              description: API網址
            per_page:
              type: integer
              description: 每頁筆數
            from:
              type: integer
              description: 本次資料開始筆數
            to:
              type: integer
              description: 本次資料結束筆數
            total:
              type: integer
              description: 總筆數

    TaxRateResponse:
      type: object
      properties:
        data:  
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                description: 稅率ID
              amount:
                type: number
                description: 稅率額度
              name:
                type: string
                description: 稅率名稱
        links:
          description: LazyLoading資料
          type: object
          properties:
            first:
              type: string
              description: 最初頁網址
            last:
              type: string
              description: 最末頁網址
            prev:
              type: string
              description: 上一頁網址
            next:
              type: string
              description: 下一頁網址
        meta:
          description: 分頁資料
          type: object
          properties:
            current_page:
              type: integer
              description: 當前頁碼
            last_page:
              type: integer
              description: 最末頁碼
            path:
              type: string
              description: API網址
            per_page:
              type: integer
              description: 每頁筆數
            from:
              type: integer
              description: 本次資料開始筆數
            to:
              type: integer
              description: 本次資料結束筆數
            total:
              type: integer
              description: 總筆數

    EmployeeListResponse:
      type: object
      properties:
        data:  
          type: array
          items:
            type: object
            properties:
              value:
                type: number
                description: 用戶
              name:
                type: string
                description: 用戶名稱
        links:
          description: LazyLoading資料
          type: object
          properties:
            first:
              type: string
              description: 最初頁網址
            last:
              type: string
              description: 最末頁網址
            prev:
              type: string
              description: 上一頁網址
            next:
              type: string
              description: 下一頁網址
        meta:
          description: 分頁資料
          type: object
          properties:
            current_page:
              type: integer
              description: 當前頁碼
            last_page:
              type: integer
              description: 最末頁碼
            path:
              type: string
              description: API網址
            per_page:
              type: integer
              description: 每頁筆數
            from:
              type: integer
              description: 本次資料開始筆數
            to:
              type: integer
              description: 本次資料結束筆數
            total:
              type: integer
              description: 總筆數

    ExpenseCategoryResponse:
      type: object
      properties:
        data:  
          type: array
          items:
            type: object
            properties:
              value:
                type: number
                description: 類別
              name:
                type: string
                description: 類別名稱
        links:
          description: LazyLoading資料
          type: object
          properties:
            first:
              type: string
              description: 最初頁網址
            last:
              type: string
              description: 最末頁網址
            prev:
              type: string
              description: 上一頁網址
            next:
              type: string
              description: 下一頁網址
        meta:
          description: 分頁資料
          type: object
          properties:
            current_page:
              type: integer
              description: 當前頁碼
            last_page:
              type: integer
              description: 最末頁碼
            path:
              type: string
              description: API網址
            per_page:
              type: integer
              description: 每頁筆數
            from:
              type: integer
              description: 本次資料開始筆數
            to:
              type: integer
              description: 本次資料結束筆數
            total:
              type: integer
              description: 總筆數


    OrdersResponse:
      type: object
      properties:
        data:
          description: 訂單資料
          type: array
          items:
            type: object
            properties:
              order_id:
                type: integer
                description: 訂單ID
              order_num:
                type: string
                description: 訂單編號
              order_date:
                type: string
                description: 訂單日期
              is_return:
                type: number
                description: 是否為退貨
              contact_name:
                type: string
                description: 客戶名稱
              total_items:
                type: integer
                description: 項目總數
              final_total:
                type: number
                description: 金額
              payment_method:
                type: array
                description: 付費方式
                items:
                  type: string
              return_paid:
                type: number
                description: 退款金額
              return_not_refund:
                type: number
                description: 待退金額
              creator_name:
                type: string
                description: 服務人員
              additional_note:
                type: string
                description: 銷售備註
              total_paid:
                type: number
                description: 已付金額
              total_unpaid:
                type: number
                description: 總未付金額
              is_negative:
                type: number
                description: 是否為負向銷售
        links:
          description: LazyLoading資料
          type: object
          properties:
            first:
              type: string
              description: 最初頁網址
            last:
              type: string
              description: 最末頁網址
            prev:
              type: string
              description: 上一頁網址
            next:
              type: string
              description: 下一頁網址
        meta:
          description: 分頁資料
          type: object
          properties:
            current_page:
              type: integer
              description: 當前頁碼
            last_page:
              type: integer
              description: 最末頁碼
            path:
              type: string
              description: API網址
            per_page:
              type: integer
              description: 每頁筆數
            from:
              type: integer
              description: 本次資料開始筆數
            to:
              type: integer
              description: 本次資料結束筆數
            total:
              type: integer
              description: 總筆數

    OrdersDetailResponse:
      type: object
      properties:
        order_id:
          type: integer
          description: 訂單ID
        order_num:
          type: string
          description: 訂單編號
        order_date:
          type: string
          description: 訂單日期
        order_status:
          type: string
          description: 訂單狀態
        creator_name:
          type: string
          description: 訂單ID
        contact_name:
          type: string
          description: 客戶名稱
        additional_note:
          type: string
          description: 銷售備註
        staff_note:
          type: string
          description: 員工備註
        payment_method:
          type: array
          description: 付費方式
          items:
            type: string
        payment_status:
          type: string
          description: 付費狀態
        shipping_status:
          type: string
          description: 運輸狀態
        shipping_address:
          type: string
          description: 送貨地址
        shipping_details:
          type: string
          description: 送貨詳情
        products:
          description: 訂單產品
          type: array
          items:
            type: object
            properties:
              image:
                type: string
                description: 產品圖片
              name:
                type: string
                description: 產品名稱
              sku:
                type: string
                description: 產品SKU
              qty:
                type: integer
                description: 數量
              price:
                type: integer
                description: 價格
              subtotal:
                type: integer
                description: 小計
              sell_line_id:
                type: integer
                description: 商品販售id
              qty_returned:
                type: integer
                description: 退貨數量
              lot:
                type: string
                description: 採購批號
              exp:
                type: string
                description: EXP
        total_price:
          type: number
          description: 商品原價
        final_total:
          type: number
          description: 商品總計
        unpaid_amonut:
          type: number
          description: 未付金額
        product_discount_amount:
          type: number
          description: 商品折扣
        tax_amount:
          type: number
          description: 稅金
        shipping_amount:
          type: number
          description: 運費
        packing_amount:
          type: number
          description: 包裝
        discount_amount:
          type: number
          description: 全單折扣
        redeemed_amount:
          type: number
          description: 紅利折扣
        other_amount:
          description: 其他費用
          type: array
          items:
            type: object
            properties:
              name:
                type: string
                description: 費用名稱
              amount:
                type: number
                description: 費用金額
        redeem:
          description: 紅利資料
          type: object
          properties:
            enable:
              type: number
              description: 是否啟用
            point:
              type: integer
              description: 紅利點數
            cost:
              type: integer
              description: 本次使用
            earned:
              type: integer
              description: 本次增加
            final:
              type: integer
              description: 總計
            is_return:
              type: boolean
              description: 是否有退貨訂單
        is_negative:
          type: number
          description: 是否為負向銷售

    OrdersReturnDetailResponse:
      type: object
      properties:
        order_id:
          type: integer
          description: 退貨訂單ID
        order_num:
          type: string
          description: 退貨單號
        order_date:
          type: string
          description: 退貨日期
        additional_note:
          type: string
          description: 銷售備註
        staff_note:
          type: string
          description: 員工備註
        payment_method:
          type: array
          description: 付費方式
          items:
            type: string
        payment_status:
          type: string
          description: 付費狀態
        payment_amount:
          type: number
          description: 已付費金額（已退）
        products:
          description: 退貨訂單產品
          type: array
          items:
            type: object
            properties:
              image:
                type: string
                description: 產品圖片
              name:
                type: string
                description: 產品名稱
              sku:
                type: string
                description: 產品SKU
              qty:
                type: integer
                description: 退貨數量
              price:
                type: integer
                description: 價格
              subtotal:
                type: integer
                description: 小計
              sell_line_id:
                type: integer
                description: 商品販售id
              lot:
                type: string
                description: 採購批號
              exp:
                type: string
                description: EXP
        total_price:
          type: string
          description: 總淨金額
        final_total:
          type: string
          description: 總計退款額
        tax_amount:
          type: string
          description: 總退稅額
        discount_amount:
          type: string
          description: 退貨折扣

    CashRegisterDetailResponse:
      type: object
      properties:
        cash_register_id:
          type: integer
          description: POS開帳id
        alert_pos_cash:
          type: integer
          description: 收銀現金額度提醒
        open_time:
          type: string
          description: 開帳時間
        close_time:
          type: string
          description: 關帳時間
        cash_in_hand:
          type: number
          description: 開機現金結餘
        total_sell:
          type: number
          description: 總銷售金額
        total_expense:
          type: number
          description: 總出支金額
        total_refund:
          type: number
          description: 總退回金額
        total_unpaid:
          type: number
          description: 總未付金額
        sell:
          type: array
          description: 銷售
          items:
            type: object
            properties:
              key:
                type: string
                description: 付費方式
              value:
                type: number
                description: 金額
        expense:
          type: array
          description: 出支
          items:
            type: object
            properties:
              key:
                type: string
                description: 付費方式
              value:
                type: number
                description: 金額
        refund:
          type: array
          description: 退回
          items:
            type: object
            properties:
              key:
                type: string
                description: 付費方式
              value:
                type: number
                description: 金額
        cny:
          type: object
          description: 人民幣總銷售，總支出，總退款
          properties:
            sell:
              type: array
              description: 人民幣總銷售
              items:
                type: object
                properties:
                  key:
                    type: string
                    description: 付費方式
                  value:
                    type: number
                    description: 金額
            expense:
              type: array
              description: 人民幣總支出
              items:
                type: object
                properties:
                  key:
                    type: string
                    description: 付費方式
                  value:
                    type: number
                    description: 金額
            refund:
              type: array
              description: 人民幣總退款
              items:
                type: object
                properties:
                  key:
                    type: string
                    description: 付費方式
                  value:
                    type: number
                    description: 金額

    CashRegisterStatusResponse:
      type: object
      properties:
        status:
          type: string
          description: 狀態
          enum:
          - open
          - close
        opened_at:
          type: string
          description: 開機時間
        location_id:
          type: integer
          description: 開帳營業地點 or 預設開帳地點

    EmployeeDutyResponse:
      type: object
      properties:
        user_id:
          type: integer
          description: 員工id
        user_name:
          type: string
          description: 員工姓名
        shift_name:
          type: string
          description: 班次
        shift_id:
          type: integer
          description: 班次 id
        shift_type:
          type: string
          description: 班次類型
        start_time:
          type: string
          description: 上班時間
        end_time:
          type: string
          description: 下班時間
        clock_in_time:
          type: string
          description: 上班打卡時間
        clock_out_time:
          type: string
          description: 下班打卡時間
        essentials_attendances_id:
          type: integer
          description: 出勤紀錄 id
        clock_in_note:
          type: string
          description: 上班打卡紀錄
        clock_out_note:
          type: string
          description: 下班打卡記錄

    ErrorResponse:
      type: object
      properties:
        success:
          type: integer
          description: 0=失敗, 1=成功
        msg:
          type: string
          description: 錯誤訊息

paths:
  
# Common
  /pos-v2/api/business-info:
    get:
      summary: 取得店家資訊
      description: 取得總店資訊以及預設店家及營業員
      tags:
        - Common
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BusinessInfoResponse'
              example:
                business_id: 1
                default_location_id: 1
                default_invoice_id: 1
                employee_id: 1
                employee_name: "Laplace chen"
                enable_rp: 1
                enable_inline_tax: 0
                rp_name: "會員積分"
                amount_for_unit_rp: "10.0000"
                min_order_total_for_rp: "1.0000"
                max_rp_per_order: null
                redeem_amount_per_unit_rp: "1.0000"
                min_order_total_for_redeem: "1.0000"
                min_redeem_point: null
                max_redeem_point: null
                rp_expiry_period: null
                rp_expiry_type: "year"
                currency_symbol: $
                currency_code: HKD
                currency_symbol_placement: before
                date_format: m/d/Y H:i
                denominations: [10, 20, 50, 100, 500, 1000]
                alert_pos_cash: 10000
                add_currency_for_cny: 1
                exchange_rate_between_hk_and_cny: 1.25
                allow_pos_overselling: 0
        '404':
          description: 錯誤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: 0
                msg: Something Wrong
                
  /pos-v2/api/business-locations:
    get:
      summary: 取得分店列表
      description: 取得分店列表
      tags:
        - Common
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LocationListResponse'
              example:
                data:
                  - value: 1
                    name: "藥局 A (BL0001)"
                  - value: 2
                    name: "藥局 B (BL0002)"
                  - value: 3
                    name: "藥局 C (BL0003)"
                  - value: 6
                    name: "eeded (BL0006)"
                links:
                  first: "http://localhost:8000/project/public/pos-v2/api/business-locations?page=1"
                  last: "http://localhost:8000/project/public/pos-v2/api/business-locations?page=1"
                  prev: ""
                  next: ""
                meta:
                  current_page: 1
                  from: 1
                  last_page: 1
                  path: "http://localhost:8000/project/public/pos-v2/api/business-locations"
                  per_page: 10
                  to: 5
                  total: 5
        '404':
          description: 錯誤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: 0
                msg: Something Wrong

  /pos-v2/api/custom-tags:
    get:
      summary: 客戶自訂產品標籤
      description: 取得客戶自訂產品標籤
      tags:
        - Common
      parameters:
        - in: query
          name: per_page
          schema:
            type: integer
          description: 每頁筆數
        - in: query
          name: page
          schema:
            type: integer
          description: 頁碼
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomTagsResponse'
              example:
                data:
                  - value: 1
                    name: 自訂標籤1
                  - value: 2
                    name: 自訂標籤2
                links:
                  first: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/custom-tags?page=1
                  last: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/custom-tags?page=4
                  prev: ""
                  next: ""
                meta:
                  current_page: 1
                  from: 1
                  last_page: 1
                  path: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/custom-tags
                  per_page: 10
                  to: 5
                  total: 5
        '404':
          description: 錯誤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: 0
                msg: Something Wrong

  /pos-v2/api/custom-tags/contact:
    get:
      summary: 客戶自訂聯絡人標籤
      description: 取得客戶自訂聯絡人標籤
      tags:
        - Common
      parameters:
        - in: query
          name: per_page
          schema:
            type: integer
          description: 每頁筆數
        - in: query
          name: page
          schema:
            type: integer
          description: 頁碼
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ContactCustomTagsResponse'
              example:
                data:
                  - value: 1
                    name: 自定欄 1
                  - value: 2
                    name: 自定欄 2
                  - value: 3
                    name: 自定欄 3
                  - value: 4
                    name: 自定欄 4
                  - value: 5
                    name: 自定欄 5
                  - value: 6
                    name: 自定欄 6
                  - value: 7
                    name: 自定欄 7
                  - value: 8
                    name: 自定欄 8
                  - value: 9
                    name: 自定欄 9
                  - value: 10
                    name: 自定欄 10
                links:
                  first: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/custom-tags/contact?page=1
                  last: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/custom-tags/contact?page=1
                  prev: ""
                  next: ""
                meta:
                  current_page: 1
                  from: 1
                  last_page: 1
                  path: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/custom-tags/contact
                  per_page: 10
                  to: 10
                  total: 10
        '404':
          description: 錯誤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: 0
                msg: Something Wrong

  /pos-v2/api/transport-status:
    get:
      summary: 取得運輸狀態列表
      description: 取得運輸狀態列表
      tags:
        - Common
      parameters:
        - in: query
          name: per_page
          schema:
            type: integer
          description: 每頁筆數
        - in: query
          name: page
          schema:
            type: integer
          description: 頁碼
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransportStatusResponse'
              example:
                data:
                  - value: ordered
                    name: 已訂購
                  - value: packed
                    name: 包裝中
                  - value: shipped
                    name: 已發貨
                  - value: delivered
                    name: 已送達
                  - value: cancelled
                    name: 已取消
                links:
                  first: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/transport-status?page=1
                  last: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/transport-status?page=1
                  prev: ""
                  next: ""
                meta:
                  current_page: 1
                  from: 1
                  last_page: 1
                  path: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/transport-status
                  per_page: 10
                  to: 5
                  total: 5
        '404':
          description: 錯誤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: 0
                msg: Something Wrong

  /pos-v2/api/invoices:
    get:
      summary: 取得發票方案清單
      description: 取得發票方案清單
      tags:
        - Common
      parameters:
        - in: query
          name: per_page
          schema:
            type: integer
          description: 每頁筆數
        - in: query
          name: page
          schema:
            type: integer
          description: 頁碼
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InvoiceSchemeResponse'
              example:
                data:
                  - value: 1
                    name: Default
                  - value: 3
                    name: 2023發票
                links:
                  first: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/invoices?page=1
                  last: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/invoices?page=1
                  prev: ""
                  next: ""
                meta:
                  current_page: 1
                  from: 1
                  last_page: 1
                  path: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/invoices
                  per_page: 10
                  to: 2
                  total: 2
        '404':
          description: 錯誤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: 0
                msg: Something Wrong

  /pos-v2/api/contact-group:
    get:
      summary: 取得客戶群清單
      description: 取得客戶群清單
      tags:
        - Common
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ContactGroupResponse'
              example:
                data:
                  - value: 1
                    name: Patient
                  - value: 2
                    name: AAA
                  - value: 3,
                    name: BBB
                links:
                  first: http://localhost:8000/project/public/pos-v2/api/contact-group?page=1
                  last: http://localhost:8000/project/public/pos-v2/api/contact-group?page=1
                  prev: null
                  next: null
                meta:
                  current_page: 1
                  from: 1
                  last_page: 1
                  path: http://localhost:8000/project/public/pos-v2/api/contact-group
                  per_page: 10
                  to: 3
                  total: 3
        '404':
          description: 錯誤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: 0
                msg: Something Wrong

  /pos-v2/api/payment-type:
    get:
      summary: 取得付款類型清單
      description: 取得付款類型清單
      tags:
        - Common
      parameters:
        - in: query
          name: location_id
          schema:
            type: number
          description: location id
          required: true
        - in: query
          name: per_page
          schema:
            type: integer
          description: 每頁筆數
        - in: query
          name: page
          schema:
            type: integer
          description: 頁碼
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentTypeResponse'
              example:
                data:
                  - value: advance
                    name: 預付
                  - value: "cash"
                    name: "現金"
                  - value: "card"
                    name: "訊用卡"
                  - value: "cheque"
                    name: "支票"
                  - value: "bank_transfer"
                    name: "銀行轉賬"
                  - value: "other"
                    name: "其他"
                  - value: "custom_pay_1"
                    name: "p1"
                  - value: "custom_pay_2"
                    name: "p2"
                  - value: "custom_pay_3"
                    name: "p3"
                  - value: "custom_pay_4"
                    name: "自定付款欄 4"
                  - value: "custom_pay_pos_1"
                    name: "人民幣微信支"
                    ex_rate: 1.1
                  - value: "custom_pay_pos_2"
                    name: "人民幣支付寶"
                    ex_rate: 1.07
                links:
                  first: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/payment-type?page=1
                  last: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/payment-type?page=2
                  prev: ""
                  next: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/payment-type?page=2
                meta:
                  current_page: 1
                  from: 1
                  last_page: 2
                  path: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/payment-type
                  per_page: 10
                  to: 10
                  total: 13
        '404':
          description: 錯誤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: 0
                msg: Something Wrong

  /pos-v2/api/price-groups:
    get:
      summary: 取得售價群組清單
      description: 取得售價群組清單
      tags:
        - Common
      parameters:
        - in: query
          name: per_page
          schema:
            type: integer
          description: 每頁筆數
        - in: query
          name: page
          schema:
            type: integer
          description: 頁碼
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PriceGroupsResponse'
              example:
                data:
                  - value: 0
                    name: 預設售價
                  - value: 1
                    name: Group 1
                  - value: 2
                    name: Group 2

                links:
                  first: http://localhost:8000/project/public/pos-v2/api/price-groups?page=1
                  last: http://localhost:8000/project/public/pos-v2/api/price-groups?page=1
                  prev: ""
                  next: ""
                meta:
                  current_page: 1
                  from: 1
                  last_page: 1
                  path: http://localhost:8000/project/public/pos-v2/api/price-groups
                  per_page: 10
                  to: 3
                  total: 3
        '404':
          description: 錯誤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: 0
                msg: Something Wrong

  /pos-v2/api/location-access:
    post:
      summary: 設定使用者目前選定的location
      description: 設定使用者目前選定的location
      tags:
        - Common
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SetLocationAccess'
            example:
              location_id: 1
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: number
                    description: 是否成功
                  msg:
                    type: string
                    description: 訊息
              example:
                success: 1
                msg: 成功

  /pos-v2/api/tax-rate:
    get:
      summary: 取得稅率列表
      description: 取得稅率列表
      tags:
        - Common
      parameters:
        - in: query
          name: location_id
          schema:
            type: number
          description: location id
          required: true
        - in: query
          name: per_page
          schema:
            type: integer
          description: 每頁筆數
        - in: query
          name: page
          schema:
            type: integer
          description: 頁碼
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaxRateResponse'
              example:
                data:
                  - id: 1
                    name: 稅率1
                    amount: 1
                  - id: 3
                    name: 稅率組1
                    amount: 2

                links:
                  first: http://localhost:8000/project/public/pos-v2/api/tax-rate?page=1
                  last: http://localhost:8000/project/public/pos-v2/api/tax-rate?page=1
                  prev: ""
                  next: ""
                meta:
                  current_page: 1
                  from: 1
                  last_page: 1
                  path: http://localhost:8000/project/public/pos-v2/api/tax-rate
                  per_page: 10
                  to: 2
                  total: 2
        '404':
          description: 錯誤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: 0
                msg: Something Wrong

  /pos-v2/api/employee-list:
    get:
      summary: 取得相關用戶列表
      description: 取得相關用戶列表
      tags:
        - Common
      parameters:
        - in: query
          name: location_id
          schema:
            type: number
          description: location id
          required: true
        - in: query
          name: per_page
          schema:
            type: integer
          description: 每頁筆數
        - in: query
          name: page
          schema:
            type: integer
          description: 頁碼
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmployeeListResponse'
              example:
                data:
                  - name: 用戶1
                    value: 1
                  - name: 用戶2
                    value: 2

                links:
                  first: http://localhost:8000/project/public/pos-v2/api/tax-rate?page=1
                  last: http://localhost:8000/project/public/pos-v2/api/tax-rate?page=1
                  prev: ""
                  next: ""
                meta:
                  current_page: 1
                  from: 1
                  last_page: 1
                  path: http://localhost:8000/project/public/pos-v2/api/tax-rate
                  per_page: 10
                  to: 2
                  total: 2
        '404':
          description: 錯誤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: 0
                msg: Something Wrong

  /pos-v2/api/expense-category:
    get:
      summary: 取得支出類別列表
      description: 取得支出類別列表
      tags:
        - Common
      parameters:
        - in: query
          name: location_id
          schema:
            type: number
          description: location id
          required: true
        - in: query
          name: per_page
          schema:
            type: integer
          description: 每頁筆數
        - in: query
          name: page
          schema:
            type: integer
          description: 頁碼
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExpenseCategoryResponse'
              example:
                data:
                  - name: 支出類別1
                    value: 1
                  - name: 支出類別2
                    value: 2

                links:
                  first: http://localhost:8000/project/public/pos-v2/api/tax-rate?page=1
                  last: http://localhost:8000/project/public/pos-v2/api/tax-rate?page=1
                  prev: ""
                  next: ""
                meta:
                  current_page: 1
                  from: 1
                  last_page: 1
                  path: http://localhost:8000/project/public/pos-v2/api/tax-rate
                  per_page: 10
                  to: 2
                  total: 2
        '404':
          description: 錯誤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: 0
                msg: Something Wrong

# Sale
  /pos-v2/api/products:
    get:
      summary: 產品清單
      description: 取得產品清單
      tags:
        - Sale
      parameters:
        - in: query
          name: location_id
          schema:
            type: number
          description: 營業地點ID
        - in: query
          name: search_field
          schema:
            type: string
          description: 搜尋欄位
        - in: query
          name: term
          schema:
            type: string
          description: 搜尋關鍵字
        - in: query
          name: tag_id
          schema:
            type: integer
            minimum: 1
            maximum: 5
          description: 客戶自訂產品標籤ID
        - in: query
          name: per_page
          schema:
            type: integer
          description: 每個分頁的資料筆數
        - in: query
          name: page
          schema:
            type: integer
          description: 頁碼
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductsResponse'
              example:
                data:
                  - variation_id: 119
                    product_id: 70
                    name: 可樂
                    type: single
                    enable_stock: 1
                    product_image: http://localhost:8000/project/public/img/default.png
                    variation: ""
                    sell_price_inc_tax: 125
                    sub_sku: 0070
                    qty_available: 2232
                    popup_note: '提醒'
                    stock:
                      - purchase_line_id: 70
                        lot_number: 
                        exp_date: 
                        qty_available: 2232
                  - variation_id: 120
                    product_id: 71
                    name: 黑松沙士
                    type: single
                    enable_stock: 1
                    product_image: http://localhost:8000/project/public/img/default.png
                    variation: ""
                    sell_price_inc_tax: 250
                    sub_sku: 0071
                    qty_available: 1010
                    popup_note: '提醒'
                    stock:
                      - purchase_line_id: 68
                        lot_number: Batch111
                        exp_date: 
                        qty_available: 1010
                links:
                  first: http://localhost:8000/project/public/pos-v2/api/products?page=1
                  last: http://localhost:8000/project/public/pos-v2/api/products?page=2
                  prev: ""
                  next: http://localhost:8000/project/public/pos-v2/api/products?page=2
                meta:
                  current_page: 1
                  from: 1
                  last_page: 2
                  path: http://localhost:8000/project/public/pos-v2/api/products
                  per_page: 10
                  to: 10
                  total: 11
        '404':
          description: 錯誤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: 0
                msg: Something Wrong

  /pos-v2/api/products/{variation_id}:
    get:
      summary: 取得單一產品詳細資訊
      description: | 
        取得單一產品詳細資訊
      tags:
        - Sale
      parameters:
        - in: query
          name: location_id
          schema:
            type: number
          description: 分店ID
          required: true
        - in: query
          name: price_group_id
          schema:
            type: number
          description: 售價群組ID
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SingleProductResponse'
              example:
                product_name: "百事可樂"
                product_id: 103
                brand_id: 2
                sub_sku: 0103
                sell_price_inc_tax: 25
                variation_id: 155
                qty_available: 54
                unit: Pc(s)
                unit_id: 4
                brand: Adidas
                stock:
                  - purchase_line_id: 114
                    lot_number: "batch111"
                    exp_date: "2023-08-31"
                    qty_available: 27
                  - purchase_line_id: 115
                    lot_number: "batch222"
                    exp_date:
                    qty_available: 26
        '404':
          description: 錯誤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: 0
                msg: Something Wrong

  /pos-v2/api/sells:
    get:
      summary: 暫存訂單列表
      description: | 
        取得暫存訂單列表
      tags:
        - Sale
      parameters:
        - in: query
          name: suspended
          schema:
            type: number
            default: 1
          description: 是否為暫存訂單
          required: true
        - in: query
          name: location_id
          schema:
            type: number
          description: 營業地點ID
        - in: query
          name: per_page
          schema:
            type: integer
          description: 每頁筆數
        - in: query
          name: page
          schema:
            type: integer
          description: 頁碼
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuspendTxnResponse'
              example:
                data:
                  - id: 1
                    transaction_date: 2022-12-21 17:30:00
                    name: Walk-in
                    final_total: 150.0000
                    additional_notes: Temp
                    sale_date: 2022/12/21
                    business_location: 藥局A
                    total_items: 1
                    invoice_no: 0153
                    sell_lines:
                      - id: 176
                        transaction_id: 391
                        product_id: 71
                        variation_id: 120
                        quantity: 3
                        mfg_waste_percent: "0.0000"
                        mfg_ingredient_group_id: null
                        quantity_returned: "0.0000"
                        unit_price_before_discount: "250.0000"
                        unit_price: "250.0000"
                        line_discount_type: "fixed"
                        line_discount_amount: "0.0000"
                        unit_price_inc_tax: "250.0000"
                        item_tax: "0.0000"
                        tax_id: null
                        discount_id: null
                        lot_no_line_id: null
                        sell_line_note: ""
                        so_line_id: null
                        so_quantity_invoiced: "0.0000"
                        res_service_staff_id: null
                        res_line_order_status: null
                        parent_sell_line_id: null
                        children_type: ""
                        sub_unit_id: null
                        created_at: "2022-12-21 17:43:28"
                        updated_at: "2022-12-21 17:43:28"

                  - id: 2
                    transaction_date: 2022-12-25 20:30:00
                    name: Miss jojo Lin
                    final_total: 375.0000
                    additional_notes: Wait a minute
                    sale_date: 2022/12/21
                    business_location: 藥局A
                    total_items: 1
                    invoice_no: 0154
                    sell_lines:
                      - id: 179
                        transaction_id: 393
                        product_id: 70
                        variation_id: 119
                        quantity: 3
                        mfg_waste_percent: "0.0000"
                        mfg_ingredient_group_id: null
                        quantity_returned: "0.0000"
                        unit_price_before_discount: "125.0000"
                        unit_price: "125.0000"
                        line_discount_type: "fixed"
                        line_discount_amount: "0.0000"
                        unit_price_inc_tax: "125.0000"
                        item_tax: "0.0000"
                        tax_id: null
                        discount_id: null
                        lot_no_line_id: null
                        sell_line_note: ""
                        so_line_id: null
                        so_quantity_invoiced: "0.0000"
                        res_service_staff_id: null
                        res_line_order_status: null
                        parent_sell_line_id: null
                        children_type: ""
                        sub_unit_id: null
                        created_at: "2022-12-28 15:16:56"
                        updated_at: "2022-12-28 15:16:56"
                links:
                  first: http://localhost:8000/project/public/pos-v2/api/sells?page=1
                  last: http://localhost:8000/project/public/pos-v2/api/sells?page=1
                  prev: null
                  next: null
                meta:
                  current_page: 1
                  from: 1
                  last_page: 1
                  path: http://localhost:8000/project/public/pos-v2/api/sells
                  per_page: 10
                  to: 4
                  total: 4
        '404':
          description: 錯誤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: 0
                msg: Something Wrong

  /pos-v2/api/sells/{transaction_id}:
    get:
      summary: 取得單一訂單詳細資訊
      description: | 
        取得單一訂單詳細資訊
      tags:
        - Sale
      parameters:
        - in: path
          name: transaction_id
          schema:
            type: number
            default: true
          description: 訂單ID
          required: true
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SingleTxnResponse'
              example:
                transaction_id: 492
                location_id: 1
                invoice_no: 0238
                transaction_date: "2023-02-14 11:48:00"
                transaction_status: "final"
                creator_name: "Laplace"
                additional_note: "asdfg"
                staff_note: ""
                payment_status: "due"
                products: 
                  product_type: "single"
                  unit_price: 125
                  line_discount_type: "fixed"
                  line_discount_amount: 0
                  item_tax: 0
                  tax_id: null
                  sell_line_note: ""
                  transaction_sell_line_id: 279
                  product_id: 70
                  variation_id: 119
                  enable_stock: 1
                  quantity: 3
                  product_unit_id: 1
                  base_unit_multiplier: 0
                  unit_price_inc_tax: 125
                  sub_unit_id: null
                  lot_no_line_id: 124
                  default_sell_price: 125
                  sell_price_inc_tax: 125
                final_total: 125
                discount: 
                  type: "percentage"
                  amount: 0
                  price_group_id: 0
                customer:
                  id: 15
                  name: "Mr Oscar"
                  member_id: "CO0016"
                  mobile: "0956874213"
                  total_rp: 5021
                  customer_group_name: ""
                transport: 
                  shipping_address: ""
                  shipping_charges: 0
                  shipping_details: ""
                  shipping_status: ""
                  delivered_to: ""
                service: 
                  packing_charge: 0
                  packing_charge_type: ""
                  service_custom_field_1: ""
                  service_custom_field_2: ""
                  service_custom_field_3: ""
                  service_custom_field_4: ""
                  service_custom_field_5: ""
                  service_custom_field_6: ""
                recurring: 
                  recur_interval: 3
                  recur_interval_type: "days"
                  recur_repetitions: 1
                rp_info: 
                  rp_redeemed: 0
                  rp_redeemed_amount: 0
                  rp_earned: 12
                payment:
                  amount: 400
                  method: "cash"
                  account_id: ""
                  card_number: ""
                  card_holder_name: ""
                  card_transaction_number: ""
                  card_type: "credit"
                  card_month: ""
                  card_year: ""
                  card_security: ""
                  cheque_number: ""
                  bank_account_number: ""
                  note: ""
        '404':
          description: 錯誤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                success: 0
                msg: Something Wrong

  /pos-v2/api/pos:
    post:
      summary: 建立訂單
      description: | 
        建立POS訂單.

        當is_suspend=1則會儲存為暫存訂單.
      tags:
        - Sale
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTransaction'
            example:
              is_medicine: 0
              location_id: 1
              sub_type:
              contact_id: 1
              search_product:
              pay_term_number:
              pay_term_type: 
              price_group: 0
              types_of_service_id: 2
              types_of_service_price_group: 
              packing_charge: 10.00
              packing_charge_type: "fixed"
              service_custom_field_1: aaaa
              service_custom_field_2: bbbb
              service_custom_field_3: cccc
              service_custom_field_4: dddd
              service_custom_field_5: eeee
              service_custom_field_6: ffff
              is_recurring: 1
              res_table_id: 
              res_waiter_id: 
              transporter_id: 
              driver_id: 
              sell_price_tax: "includes"
              products:
                - product_type: "single"
                  unit_price: 125.00
                  line_discount_type: "fixed"
                  line_discount_amount: 0.00
                  item_tax: 0.00
                  tax_id:
                  sell_line_note:
                  lot_no_line_id:
                  product_id: 70
                  variation_id: 119
                  enable_stock: 1
                  quantity: 5.00
                  product_unit_id: 1
                  sub_unit_id: 1
                  base_unit_multiplier: 1
                  unit_price_inc_tax: 125.0
              discount_type: "fixed"
              discount_amount: 11.00
              rp_redeemed: 321
              rp_redeemed_amount: 321
              tax_rate_id:
              tax_calculation_amount: 0.00
              shipping_details: 
              shipping_address: 
              shipping_status: 
              delivered_to: 
              shipping_charges: 0.00
              advance_balance: 0.0000
              payment:
                - amount: 625.00
                  account_id: 
                  card_number: 
                  card_holder_name: 
                  card_transaction_number: 
                  card_type: 'credit'
                  card_month: 
                  card_year: 
                  card_security: 
                  cheque_number:
                  bank_account_number: 
                  transaction_no_1:
                  transaction_no_2:
                  transaction_no_3:
                  transaction_no_4:
                  transaction_no_5:
                  transaction_no_6:
                  transaction_no_7:
                  note:
              sale_note: 
              staff_note: 
              change_return: 0.00
              additional_notes: 'axios post test'
              is_suspend: 1  # 1 = 暫存訂單, 0 = 一般訂單
              recur_interval:  3
              recur_interval_type: "days"
              recur_repetitions: 1
              subscription_repeat_on: 
              size: 'all'
              is_enabled_stock: 
              is_credit_sale: 0
              final_total: 625.00
              discount_type_modal: 'percentage'
              discount_amount_modal: 0.00
              order_tax_modal: 
              shipping_details_modal:
              shipping_address_modal:
              shipping_charges_modal: 0
              shipping_status_modal: 
              delivered_to_modal: 
              status: 'final'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CreateTransaction'
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransactionsResponse'
              example:
                success: 1
                msg: Sale added successfully
                receipt: null
                transaction_id: 819
        '404':
          description: 失敗
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: integer
                    description: 0=失敗, 1=成功
                  msg:
                    type: string
                    description: 失敗訊息
                  receipt:
                    type: string
                    description: 發票HTML
              example:
                success: 0
                msg: "系統暫未能運作，請稍後再試"
                receipt: ""
          
  /pos-v2/api/pos/{transaction_id}:
    put:
      summary: 更新訂單
      description: | 
        更新POS訂單.

        當is_suspend=1則會儲存為暫存訂單.
      parameters:
        - in: path
          name: transaction_id
          schema:
            type: number
            default: true
          description: 訂單ID
          required: true
      tags:
        - Sale
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTransaction'
            example:
              location_id: 1
              sub_type: 
              contact_id: 15
              search_product: 
              pay_term_number: 
              pay_term_type: 
              res_table_id: 
              res_waiter_id: 
              transporter_id: 
              driver_id: 
              sell_price_tax: includes
              products:
                - product_type: single
                  unit_price: 250.00
                  line_discount_type: fixed
                  line_discount_amount: 0.00
                  item_tax: 0.00
                  tax_id: 
                  sell_line_note: 
                  lot_no_line_id: 132
                  product_id: 103
                  variation_id: 155
                  enable_stock: 1
                  quantity: 2.00
                  product_unit_id: 4
                  sub_unit_id: 173
                  base_unit_multiplier: 10
                  unit_price_inc_tax: 250.00
              discount_type: percentage
              discount_amount:  0.00 
              rp_redeemed: 0
              rp_redeemed_amount: 0
              tax_rate_id:   
              tax_calculation_amount:  0.00 
              shipping_details: 
              shipping_address: 
              shipping_status: 
              delivered_to: 
              shipping_charges: 0.00 
              advance_balance: 0.0000
              payment:
                - amount: 500.00
                  method: cash
                  account_id: 
                  card_number: 
                  card_holder_name: 
                  card_transaction_number: 
                  card_type: credit
                  card_month: 
                  card_year: 
                  card_security: 
                  cheque_number: 
                  bank_account_number: 
                  transaction_no_1: 
                  transaction_no_2: 
                  transaction_no_3: 
                  transaction_no_4: 
                  transaction_no_5: 
                  transaction_no_6: 
                  transaction_no_7: 
                  note: 
              sale_note: zxcvbnm,
              staff_note: 
              change_return: 0.00
              additional_notes: zxcvbnm,
              is_suspend: 0
              recur_interval: 1
              recur_interval_type: days
              recur_repetitions: 
              subscription_repeat_on: 
              size: all
              is_enabled_stock: 
              is_credit_sale: 0
              final_total: 500.00
              status: final
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UpdateTransaction'
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: integer
                    description: 0=失敗, 1=成功
                  msg:
                    type: string
                    description: 成功訊息
                  receipt:
                    type: string
              example:
                success: 1
                msg: 銷售更新成功
                receipt: 
                  is_enabled: true
                  print_type: "browser"
                  html_content: "<!-- business information here -->"
                  printer_config: []
                  data: []
                  print_title: "0261"
        '404':
          description: 失敗
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: integer
                    description: 0=失敗, 1=成功
                  msg:
                    type: string
                    description: 失敗訊息
                  receipt:
                    type: string
                    description: 發票HTML
              example:
                success: 0
                msg: "系統暫未能運作，請稍後再試"
                receipt: ""

# Order
  /pos-v2/api/orders:
    get:
      summary: 訂單清單
      description: 取得訂單清單
      tags:
        - Order
      parameters:
        - in: query
          name: location_id
          schema:
            type: integer
          description: 營業地點ID
        - in: query
          name: st
          schema:
            type: string
          description: 起始時間
        - in: query
          name: et
          schema:
            type: string
          description: 結束時間
        - in: query
          name: payment_status
          schema:
            type: string
            enum: [all, paid, due, partial]
          description: 付款方式
        - in: query
          name: term_type
          schema:
            type: string
            enum: [order_num, sku, contacter, servicer]
          description: 搜尋類別
        - in: query
          name: term
          schema:
            type: string
          description: 搜尋關鍵
        - in: query
          name: per_page
          schema:
            type: integer
          description: 每頁筆數
        - in: query
          name: page
          schema:
            type: integer
          description: 頁碼
        - in: query
          name: return_order
          schema:
            type: integer
          description: 是否只顯示退貨
        - in: query
          name: pre_sale
          schema:
            type: integer
          description: 是否為預售
        - in: query
          name: sort_column
          schema:
            type: string
            enum: ['', 'order_date', order_num, contact_name, creator_name]
          description: 排序欄位
        - in: query
          name: sort_direction
          schema:
            type: string
            enum: [asc, desc]
          description: 排序方式
        - in: query
          name: contact_id
          schema:
            type: integer
          description: 訂單客戶ID
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrdersResponse'
              example:
                  data:
                  - order_id: 3
                    order_num: 0001
                    order_date: "2022-09-12 14:12:42"
                    is_return: false
                    contact_name: 訪客
                    total_items: 1
                    final_total: 100
                    payment_method:
                    - cash
                    return_paid: ""
                    return_not_refund: ""
                    creator_name: JackYeh
                    additional_note: ""
                    total_paid: 100
                    total_unpaid: 0
                  - order_id: 4
                    order_num: 0002
                    order_date: "2022-09-12 17:05:11"
                    is_return: false
                    contact_name: 訪客
                    total_items: 1
                    final_total: 100
                    payment_method:
                    - cash
                    return_paid: ""
                    return_not_refund: ""
                    creator_name: JackYeh
                    additional_note: ""
                    total_paid: 100
                    total_unpaid: 0
                  - order_id: 7
                    order_num: 0003
                    order_date: "2022-09-13 09:41:27"
                    contact_name: 訪客
                    total_items: 1
                    final_total: 999
                    payment_method:
                    - cash
                    creator_name: JackYeh
                    additional_note: ""
                    total_paid: 999
                    total_unpaid: 0
                  - order_id: 10
                    order_num: 0004
                    order_date: "2022-09-13 11:03:15"
                    is_return: false
                    contact_name: 訪客
                    total_items: 1
                    final_total: 500
                    payment_method:
                    - cash
                    return_paid: ""
                    return_not_refund: ""
                    creator_name: JackYeh
                    additional_note: ""
                    total_paid: 500
                    total_unpaid: 0
                  - order_id: 11
                    order_num: 0005
                    order_date: "2022-09-13 11:16:26"
                    is_return: false
                    contact_name: 訪客
                    total_items: 1
                    final_total: 999
                    payment_method:
                    - card
                    return_paid: ""
                    return_not_refund: ""
                    creator_name: JackYeh
                    additional_note: ""
                    total_paid: 999
                    total_unpaid: 0
                  - order_id: 12
                    order_num: 0006
                    order_date: "2022-10-31 15:09:24"
                    is_return: false
                    contact_name: 訪客
                    total_items: 1
                    final_total: 100
                    payment_method:
                    - cash
                    return_paid: ""
                    return_not_refund: ""
                    creator_name: JackYeh
                    additional_note: ""
                    total_paid: 100
                    total_unpaid: 0
                  - order_id: 14
                    order_num: 0007
                    order_date: "2022-11-07 11:28:38"
                    is_return: false
                    contact_name: 訪客
                    total_items: 2
                    final_total: 225
                    payment_method:
                    - card
                    return_paid: ""
                    return_not_refund: ""
                    creator_name: JackYeh
                    additional_note: ""
                    total_paid: 225
                    total_unpaid: 0
                  - order_id: 15
                    order_num: 0008
                    order_date: "2022-11-07 11:51:21"
                    is_return: false
                    contact_name: 訪客
                    total_items: 3
                    final_total: 1224
                    payment_method:
                    - cash
                    return_paid: ""
                    return_not_refund: ""
                    creator_name: JackYeh
                    additional_note: ""
                    total_paid: 1224
                    total_unpaid: 0
                  - order_id: 16
                    order_num: 0009
                    order_date: "2022-11-07 11:54:02"
                    is_return: false
                    contact_name: 訪客
                    total_items: 2
                    final_total: 1099
                    payment_method:
                    - card
                    return_paid: ""
                    return_not_refund: ""
                    creator_name: JackYeh
                    additional_note: ""
                    total_paid: 1099
                    total_unpaid: 0
                  - order_id: 17
                    order_num: 0010
                    order_date: "2022-11-07 12:42:50"
                    is_return: true
                    contact_name: 訪客
                    total_items: 2
                    final_total: 600
                    payment_method:
                    - cash
                    return_paid: 300
                    return_not_refund: 110
                    creator_name: JackYeh
                    additional_note: ""
                    total_paid: 190
                    total_unpaid: 0
                  links:
                    first: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/orders?page=1
                    last: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/orders?page=4
                    prev: ""
                    next: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/orders?page=2"
                  meta:
                    current_page: 1
                    from: 1
                    last_page: 4
                    path: http://localhost:8000/cloudsatlas/project/public/pos-v2/api/orders
                    per_page: 10
                    to: 10
                    total: 40

  /pos-v2/api/orders/{id}:
    get:
      summary: 訂單詳細資料
      description: 取得訂單詳細資料
      tags:
        - Order
      parameters:
        - in: query
          name: location_id
          schema:
            type: integer
          description: 營業地點ID
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrdersDetailResponse'
              example:
                  order_id: 73
                  order_num: "0028"
                  order_date: 2023-02-07 09:09:00
                  order_status: final
                  creator_name: JackYeh
                  contact_name: Jack
                  additional_note: ""
                  staff_note: ""
                  payment_method: []
                  payment_status: due
                  shipping_status: ""
                  shipping_address: ""
                  shipping_details: ""
                  products:
                  - image: "http://localhost:8000/cloudsatlas/project/public/img/default.png"
                    name: 產品名稱
                    sku: 20220008-2
                    qty: 3
                    price: 121.5000
                    subtotal: 364.5
                    sell_line_id: 69
                    qty_returned: 0.00
                    exp: ""
                    lot: ""
                  total_price: 450
                  final_total: 346
                  unpaid_amonut: 346
                  product_discount_amount: 85.50
                  tax_amount: 0
                  shipping_amount: 0
                  packing_amount: 0
                  discount_amount: 18.21
                  redeemed_amount: 0
                  other_amount:
                  - name: 自取點費用
                    amount: $ 0.01
                  redeem:
                    enable: false
                    point: 0
                    cost: 0
                    earned: 0
                    final: 0
                  is_return: false

  /pos-v2/api/orders/return/{id}:
    post:
      summary: 訂單退貨
      description: 取得退貨
      tags:
        - Order
      parameters:
        - in: path
          name: id
          description: order id
          required: true
          schema:
            type: integer
        - in: query
          name: location_id
          schema:
            type: integer
          description: 營業地點ID
        - in: query
          name: products
          description: One or more return products
          required: true
          schema:
            type: array
            items:
              type: object
              properties:
                sell_line_id:
                  type: integer
                  description: sell_line_id by order product
                qty:
                  type: integer
                  description: return product quantity
          examples:
            products:
              summary: Example of products
              value: [{"sell_line_id":69, "qty": 3},{"sell_line_id":68, "qty": 3}]
        - in: query
          name: discount_type
          schema:
            type: string
            enum:
              - ""
              - "fixed"
              - "percentage"
          description: 折舊類型
        - in: query
          name: discount_amount
          schema:
            type: number
          description: 折舊數量
        - in: query
          name: method
          schema:
            type: string
          description: 付費方式
        - in: query
          name: amount
          schema:
            type: number
          description: 退費金額（折舊後
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: number
                    description: 是否成功
                  msg:
                    type: string
                    description: 訊息
              example:
                  success: 1
                  msg: 成功

  /pos-v2/api/orders/return-detail/{id}:
    get:
      summary: 已退貨訂單詳細資料
      description: 已退貨訂單詳細資料
      tags:
        - Order
      parameters:
        - in: path
          name: id
          description: order id
          required: true
          schema:
            type: integer
        - in: query
          name: location_id
          schema:
            type: integer
          description: 營業地點ID
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrdersReturnDetailResponse'
              example:
                  order_id: 127
                  order_num: CN2023/0014
                  order_date: 2023-02-21 10:41:00
                  additional_note: ""
                  staff_note: ""
                  payment_method: ['cash']
                  payment_status: partial
                  payment_amount: 281.36
                  products:
                  - image : "http://localhost:8000/cloudsatlas/project/public/img/default.png"
                    lot : ""
                    exp : ""
                    name : "產品名稱"
                    price : 96.35
                    qty : 3
                    sell_line_id : 99
                    sku : "dfg14d5gfd"
                    subtotal : 289.05
                  total_price: 289.05
                  final_total: 281.36
                  tax_amount: 0
                  discount_amount: 7.69

  /pos-v2/api/orders/add-payment/{id}:
    post:
      summary: 繼續結帳
      description: 繼續結帳
      tags:
        - Order
      parameters:
        - in: path
          name: id
          description: order id
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddNewTransactionPayment'
            example:
              location_id: 1
              sale_note: This is note
              staff_note: This is note
              payment:
              - method: cash
                amount: 10
              - method: other
                amount: 10
              - method: advance
                amount: 10
              - method: cheque
                amount: 10
                cheque_number: ch1234567
              - method: bank_transfer
                amount: 10
                bank_account_number: "1021023568741236595"
              - method: card
                amount: 10
                card_number: "4485174148740953"
                card_holder_name: "User Name"
                card_transaction_number: "s1564797"
                card_type: visa
                card_month: 06
                card_year: 2027
                card_security: 975
              - method: custom_pay_1
                amount: 10
                transaction_no: XXXXXXXX
              - method: custom_pay_2
                amount: 10
                transaction_no: XXXXXXXX
              - method: custom_pay_3
                amount: 10
                transaction_no: XXXXXXXX
              - method: custom_pay_4
                amount: 10
                transaction_no: XXXXXXXX
              - method: custom_pay_5
                amount: 10
                transaction_no: XXXXXXXX
              - method: custom_pay_6
                amount: 10
                transaction_no: XXXXXXXX
              - method: custom_pay_7
                amount: 10
                transaction_no: XXXXXXXX
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AddNewTransactionPayment'
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: number
                    description: 是否成功
                  msg:
                    type: string
                    description: 訊息
              example:
                  success: 1
                  msg: 成功

  /pos-v2/api/orders/invoice/{id}:
    get:
      summary: 取得發票網址
      description: 取得發票網址
      tags:
        - Order
      parameters:
        - in: path
          name: id
          description: order id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  url:
                    type: string
                    description: 發票url
              example:
                  url: http://localhost:8001/invoice/32ac6d2fcb5102c74fd4feb150fcdd16

# Warehouse
  /pos-v2/api/warehouse/stocks:
    get:
      summary: 庫存管理
      description: 取得產品清單
      tags:
        - Warehouse
      parameters:
        - in: query
          name: location_id
          required: true
          schema:
            type: number
          description: 營業地點ID
        - in: query
          name: product_rack_id
          schema:
            anyOf:
              - type: integer
              - type: string
          description: 商品位置 ID
        - in: query
          name: term
          schema:
            type: string
          description: 搜尋關鍵字
        - in: query
          name: category_id
          schema:
            anyOf:
              - type: integer
              - type: string
          description: 主分類 ID
        - in: query
          name: sub_category_id
          schema:
            anyOf:
                - type: integer
                - type: string
          description: 次分類 ID
        - in: query
          name: is_only_alert
          schema:
            type: integer
            minimum: 0
            maximum: 1
          description: 僅檢視低於警示庫存量
        - in: query
          name: active_state
          schema:
            type: string
            enum:
              - "active"
              - "inactive"
        - in: query
          name: is_uncategorized
          schema:
            type: integer
            minimum: 0
            maximum: 1
          description: 顯示未分類
        - in: query
          name: sort
          description: 排序
          schema:
            type: object
            properties:
              rack :
                description: 位置
                type: string
                enum:
                  - "ASC"
                  - "DESC"
              product_name :
                description: 商品名稱
                type: string
                enum:
                  - "ASC"
                  - "DESC"
              purchase_price :
                description: 採買金額
                type: string
                enum:
                  - "ASC"
                  - "DESC"
              offsite_stock :
                description: 異地庫存
                type: string
                enum:
                  - "ASC"
                  - "DESC"
              current_stock :
                description: 本地庫存
                type: string
                enum:
                  - "ASC"
                  - "DESC"
        - in: query
          name: length
          schema:
            type: integer
          description: 單頁筆數
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
          description: 第幾頁
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  recordsTotal:
                    type: integer
                    description: 本頁筆數
                  total:
                    type: integer
                    description: 總筆數
                  pages:
                    type: integer
                    description: 總頁數
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        position:
                          type: string
                          description: 區域
                        row:
                          type: string
                          description: 排
                        rack:
                          type: string
                          description: 貨架
                        category:
                          type: string
                          description: 主分類
                        sub_category:
                          type: string
                          description: 子分類
                        product_name:
                          type: string
                          description: 產品名稱
                        is_inactive:
                          type: integer
                          description: 是否啟用
                        active_state:
                          type: string
                          description: 是否啟用
                        sku:
                          type: string
                          description: sku
                        alert_quantity:
                          type: string
                          description: 警示數量
                        current_stock:
                          type: string
                          description: 本地庫存
                        offsite_stock:
                          type: string
                          description: 異地庫存量
                        unit:
                          type: string
                          description: 庫存單位
                        base_unit:
                          type: string
                          description: 包裝單位
                        base_unit_multiplier:
                          type: string
                          description: 每包幾入
                        max_price:
                          type: string
                          description: 單位售價(最大)
                        min_price:
                          type: integer
                          description: 單位售價(最小)
                        max_purchase_price:
                          type: string
                          description: 單位成本(最大)
                        min_purchase_price:
                          type: string
                          description: 單位成本(最小)
                        variation:
                          type: string
                          description: 衍生規格名稱
                        variation_sub:
                          type: string
                          description: 第2衍生規格名稱

              example:
                recordsTotal: 2
                total: 2
                pages: 1
                data:
                  - position: A區
                    row: 3
                    rack: 6
                    product_name: 可樂
                    is_inactive: 0
                    active_state: active
                    category: 飲料
                    sub_category: 含氣泡
                    sku: 202210123-1
                    alert_quantity: 100
                    current_stock: 70
                    offsite_stock: 300
                    unit: 罐
                    base_unit: 箱
                    base_unit_multiplier: 24
                    max_price: 20
                    min_price: 20
                    max_purchase_price: 12
                    min_purchase_price: 12
                    variation: 大
                    variation_sub: Red
                  - position: A區
                    row: 3
                    rack: 6
                    product_name: 可樂
                    is_inactive: 0
                    active_state: active
                    category: 飲料
                    sub_category: 含氣泡
                    sku: 202210123-1
                    alert_quantity: 100
                    current_stock: 70
                    offsite_stock: 300
                    unit: 罐
                    base_unit: 箱
                    base_unit_multiplier: 24
                    max_price: 50
                    min_price: 20
                    max_purchase_price: 20
                    min_purchase_price: 10
                    variation: 小
                    variation_sub: Black
                  - position: A區
                    row: 3
                    rack: 5
                    product_name: 雪碧
                    is_inactive: 1
                    active_state: inactive
                    category: 飲料
                    sub_category: 含氣泡
                    sku: bbasdasdas
                    alert_quantity: 100
                    current_stock: 70
                    offsite_stock: 300
                    unit: 罐
                    base_unit: 箱
                    base_unit_multiplier: 24
                    max_price: 20
                    min_price: 20
                    max_purchase_price: 11
                    min_purchase_price: 11

  /pos-v2/api/warehouse/purchases_or_transfers:
    get:
      summary: 採購/庫存轉移
      description: 取得產品清單
      tags:
        - Warehouse
      parameters:
        - in: query
          name: location_id
          required: true
          schema:
            type: number
          description: 營業地點ID
        - in: query
          name: type
          schema:
            type: string
            enum:
              - "purchase"
              - "purchase_transfer"
              - "all"
          description: 類型
        - in: query
          name: term
          schema:
            type: string
          description: 搜尋關鍵字
        - in: query
          name: start_date
          schema:
            type: string
          description: 起始時間
        - in: query
          name: end_date
          schema:
            type: string
          description: 結束時間
        - in: query
          name: sort
          description: 排序
          schema:
            type: object
            properties:
              ref_no :
                description: 參考號
                type: string
                enum:
                  - "ASC"
                  - "DESC"
              status :
                description: 訂單狀態
                type: string
                enum:
                  - "ASC"
                  - "DESC"
              eta :
                description: 預計到達日
                type: string
                enum:
                  - "ASC"
                  - "DESC"
              ata :
                description: 實際到達日
                type: string
                enum:
                  - "ASC"
                  - "DESC"
              inventory_date :
                description: 盤點日
                type: string
                enum:
                  - "ASC"
                  - "DESC"
        - in: query
          name: length
          schema:
            type: integer
          description: 單頁筆數
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
          description: 第幾頁
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  recordsTotal:
                    type: integer
                    description: 本頁筆數
                  total:
                    type: integer
                    description: 總筆數
                  pages:
                    type: integer
                    description: 總頁數
                  data:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: number
                          type:
                            type: string
                            description: 類型
                          ref_no:
                            type: string
                            description: 參考號
                          transaction_date:
                            type: string
                            description: 建立日期
                          DT_RowId:
                            type: number
                          location_from:
                            type: string
                            description: 地點(由)
                          location_to:
                            type: string
                            description: 接收地點
                          additional_notes:
                            type: object
                            description: 銷售註記
                          status:
                            type: string
                            description: 狀態
                          received_not_allowed:
                            type: number
                            description: 允許接收
                          transaction_etd:
                            type: string
                            description: 預計出發日
                          transaction_eta:
                            type: string
                            description: 預計到達日
                          transaction_atd:
                            type: string
                            description: 實際出發日
                          transaction_ata:
                            type: string
                            description: 實際到達日
                          inventory_transaction_id:
                            type: object
                            description: 盤點Id 尚未盤點時 為 null
                          inventory_transaction_date:
                            type: object
                            description: 盤點日
                          inventory_staff:
                            type: string
                            description: 盤點人員
                          item_count:
                            type: number
                            description: 總項目
              example:
                recordsTotal: 2
                total: 2
                pages: 1
                data:
                  - id: 130
                    type: purchase_transfer
                    ref_no: ST2023/0001
                    transaction_date: '2023-01-30 12:00:00'
                    location_from: Nextgen
                    location_to: 港九
                    additional_notes: 庫存轉移
                    received_not_allowed: 0
                    status: received
                    shipping_etd: '2023-02-01 12:00:00'
                    shipping_eta: '2023-02-03 12:00:00'
                    shipping_atd: '2023-02-01 12:02:00'
                    shipping_ata: '2023-02-03 09:00:00'
                    item_count: 2
                    inventory_transaction_id: null
                    inventory_transaction_date: null
                    inventory_staff: null
                  - id: 139
                    type: purchase
                    ref_no: 'PO2023/0002'
                    transaction_date: '2023-01-30 12:00:00'
                    location_from: BenQ
                    location_to: 港九
                    additional_notes: '採買螢幕 * 10'
                    received_not_allowed: 0
                    status: received
                    shipping_etd: '2023-02-01 12:00:00'
                    shipping_eta: '2023-02-03 12:00:00'
                    shipping_atd: '2023-02-01 12:02:00'
                    shipping_ata: '2023-02-03 09:00:00'
                    item_count: 1
                    inventory_transaction_id: null
                    inventory_transaction_date: null
                    inventory_staff: null

  /pos-v2/api/warehouse/detail/{id}:
    get:
      summary: 取得詳細資訊
      description: | 
        取得單一產品詳細資訊
      tags:
        - Warehouse
      parameters:
        - name: id
          in: path
          description: id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: number
                  msg:
                    type: string
                  data:
                    type: object
                    properties:
                      detail:
                        type: object
                        properties:
                          id:
                            type: number
                          type:
                            type: string
                            description: 類型
                          ref_no:
                            type: string
                            description: 參考號
                          transaction_date:
                            type: string
                            description: 建立日期
                          business_name:
                            type: string
                            description: 營業名稱
                          business_logo:
                            type: string
                            description: 營業 logo
                          location_from:
                            type: string
                            description: 地點(由)
                          location_to:
                            type: string
                            description: 接收地點
                          final_total:
                            type: string
                          additional_notes:
                            type: object
                            description: 銷售註記
                          staff_note:
                            type: object
                            description: 員工註記
                          status:
                            type: string
                            description: 狀態
                          payment_status:
                            type: string
                            description: 付款狀態
                          shipping_etd:
                            type: string
                            description: 預計出發日
                          shipping_eta:
                            type: string
                            description: 預計到達日
                          shipping_atd:
                            type: string
                            description: 實際出發日
                          shipping_ata:
                            type: string
                            description: 實際到達日
                          staff:
                            type: string
                            description: 處理人員
                          inventory_transaction_id:
                            type: object
                            description: 盤點Id 尚未盤點時 為 null
                          inventory_transaction_date:
                            type: object
                            description: 盤點日
                          inventory_staff:
                            type: string
                            description: 盤點人員
                      products:
                        type: array
                        items:
                          type: object
                          properties:
                            purchase_line_id:
                              type: number
                              description: 採購單ID
                            product_id:
                              type: number
                            variation_id:
                              type: number
                            sku:
                              type: string
                              description: sku
                            product_name:
                              type: string
                              description: 商品名稱
                            product_description:
                              type: string
                              description: 商品描述
                            product_url:
                              type: string
                              description: 商品圖片
                            position:
                              type: string
                              description: 區域
                            row:
                              type: string
                              description: 排
                            rack:
                              type: string
                              description: 貨架
                            lot_number:
                              type: string
                              description: 批號
                            exp_date:
                              type: string
                              description: 到期日
                            quantity:
                              type: number
                              description: 入庫量
                            unit_price:
                              type: string
                              description: 每單位價格
                            selling_price:
                              type: string
                              description: 每單位建議售價
                            unit:
                              type: string
                              description: 庫存單位
                            base_unit:
                              type: string
                              description: 包裝單位
                            base_unit_multiplier:
                              type: string
                              description: 每包幾入
                            inventory_transaction_id:
                              type: number
                              description: 盤點事件 id
                            inventory_transaction_date:
                              type: string
                              description: 盤點時間
                            inventory_staff:
                              type: string
                              description: 盤點人員
                            adjust_quantity:
                              type: string
                              description: 調節量

              example:
                success: 1
                msg: success
                data:
                  detail:
                    id: 130
                    type: purchase_transfer
                    ref_no: ST2023/0001
                    transaction_date: '2023-01-30 12:00:00'
                    business_name: Nextgen
                    business_logo: https://erp.tw/img/default.png
                    location_from: Nextgen
                    location_to: 港九
                    additional_notes: 庫存轉移
                    staff_note: 已接收等待盤點
                    status: received
                    shipping_etd: '2023-02-01 12:00:00'
                    shipping_eta: '2023-02-03 12:00:00'
                    shipping_atd: '2023-02-01 12:02:00'
                    shipping_ata: '2023-02-03 09:00:00'
                    staff: 處理人員
                    inventory_transaction_id: null
                    inventory_transaction_date: null
                    inventory_staff: null
                  products:
                    - purchase_line_id: 1
                      product_id: 6
                      variation_id: 9
                      sku: adasdasdsad
                      product_name: 可樂
                      product_description : 肥宅快樂水
                      product_url: https://erp.tw/img/default.png
                      position: A區
                      row: 3
                      rack: 6
                      lot_number: Batch111
                      exp_date: 20240209
                      quantity: 100
                      unit_price: 10
                      selling_price: 15.0000
                      unit: 罐
                      base_unit: 箱
                      base_unit_multiplier: 24
                      inventory_transaction_id: null
                      inventory_transaction_date: null
                      inventory_staff: null
                      adjust_quantity: null
                    - purchase_line_id: 2
                      product_id: 7
                      variation_id: 10
                      sku: bbasdasdas
                      product_name: 雪碧
                      product_description : 商品備註
                      product_url: https://erp.tw/img/default.png
                      position: A區
                      row: 3
                      rack: 6
                      lot_number: Batch111
                      exp_date: 20240209
                      quantity: 100
                      unit_price: 10
                      selling_price: 15.0000
                      unit: 罐
                      base_unit: 箱
                      base_unit_multiplier: 24
                      inventory_transaction_id: null
                      inventory_transaction_date: null
                      inventory_staff: null
                      adjust_quantity: null

  /pos-v2/api/warehouse/receive/{id}:
    post:
      summary: 收貨
      description: 標示『採購/庫存轉移』已接受，並執行商品入庫
      tags:
        - Warehouse
      parameters:
        - name: id
          in: path
          description: id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: number
                  msg:
                    type: string

  /pos-v2/api/warehouse/inventory/{id}:
    post:
      summary: 執行盤點
      description: 盤點採購＆轉移商品 入庫數量是否正確，
        若貨品數量與收貨單不符，系統將自動建立庫存調整單
      tags:
        - Warehouse
      parameters:
        - name: id
          in: path
          description: id
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                inventory_quantity:
                  type: array
                  items:
                    type: object
                    properties:
                      purchase_line_id:
                        type: integer
                        example: 6
                      quantity:
                        type: integer
                        description: 貨品數量
                        example: 10
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: number
                  msg:
                    type: string

  /pos-v2/api/warehouse/product/categories:
    get:
      summary: 分類和次分類
      description: 分類和次分類
      tags:
        - Warehouse
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    title:
                      type: string
                      description: 主分類
                    value:
                      type: string
                      description: 產品名稱
                    subCategories:
                      type: array
                      items:
                        type: object
                        properties:
                          title:
                            type: string
                            description: 主分類
                          value:
                            type: string
                            description: 產品名稱
              example:
                  - title: 所有類別
                    value: all
                    subCategories: []
                  - title: 未分類
                    value: unCategorized
                    subCategories: []
                  - title: 氣泡飲料
                    value: 1
                    subCategories:
                        - title: 可樂
                          value: 2
                        - title: 雪碧
                          value: 3

  /pos-v2/api/warehouse/stock/state:
    get:
      summary: 訂單狀態
      tags:
        - Warehouse
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    title:
                      type: string
                      description: 標題
                    value:
                      type: string
                      description: 內容
              example:
                  - title: 全部
                    value: all
                  - title: 待辦的
                    value: pending
                  - title: 在途中
                    value: in_transit
                  - title: 已收到
                    value: received

  /pos-v2/api/warehouse/product/state:
    get:
      summary: 商品狀態
      tags:
        - Warehouse
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    title:
                      type: string
                      description: 標題
                    value:
                      type: string
                      description: 內容
              example:
                  - title: 全部
                    value: all
                  - title: 啟用
                    value: active
                  - title: 停用
                    value: inactive

  /pos-v2/api/warehouse/product/racks:
    get:
      summary: 商品位置
      tags:
        - Warehouse
      parameters:
        - in: query
          name: location_id
          schema:
            type: number
          description: 營業地點ID
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    title:
                      type: string
                      description: 標題
                    value:
                      type: string
                      description: 內容
              example:
                  - title: 所有類別
                    value: all
                  - title: 未分類
                    value: unCategorized
                  - title: Ｂ-3-6
                    value: 2
                  - title: Ｂ-3-5
                    value: 1

  /pos-v2/api/employee/duty/clockInOrOut:
    post:
      summary: 打卡上下班
      description: 標示『採購/庫存轉移』已接受，並執行商品入庫
      tags:
        - Clock In/Out
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                user_id:
                  type: integer
                  description: 員工id
                shift_id:
                  type: integer
                  description: 班次id
                note: 
                  type: string
                  description: 備註
              required:
                - user_id
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: number
                  msg:
                    type: string
                  data:
                    type: object
                    $ref: '#/components/schemas/EmployeeDutyResponse'

# Member
  /pos-v2/api/contacts:
    get:
      summary: 會員清單
      description: 取得會員清單
      tags:
        - Member
      parameters:
        - in: query
          name: q
          schema:
            type: string
          description: keyword
        - in: query
          name: customer_group_id
          schema:
            type: integer
          description: 客戶群組id
        - in: query
          name: show_disabled
          schema:
            type: integer
          description: 是否為顯示停用
        - in: query
          name: sort_column
          schema:
            type: string
            enum: ['', status, name, customer_group]
          description: 排序欄位
        - in: query
          name: sort_direction
          schema:
            type: string
            enum: [asc, desc]
          description: 排序方式
        - in: query
          name: per_page
          schema:
            type: integer
          description: 每頁筆數
        - in: query
          name: page
          schema:
            type: integer
          description: 頁碼
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomersResponse'
              example:
                data:
                  - id: 1
                    name: "Walk-in"
                    member_id: "CO0001"
                    mobile: ""
                    total_rp: 0
                    customer_group_name: null
                    contact_due: 0
                    status: true
                  - id: 2
                    name: "Miss jojo Lin"
                    member_id: "CO0002"
                    mobile: "0966123458"
                    total_rp: 0
                    customer_group_name: null
                    contact_due: 100
                    status: true
                  - id: 6
                    name: "魏如萱"
                    member_id: "CO0006"
                    mobile: "0988666444"
                    total_rp: 0
                    customer_group_name: null
                    contact_due: 1200
                    status: true
                links:
                  first: http://localhost:8000/project/public/pos-v2/api/contacts?page=1
                  last: http://localhost:8000/project/public/pos-v2/api/contacts?page=2
                  prev: null
                  next: http://localhost:8000/project/public/pos-v2/api/contacts?page=2
                meta:
                  current_page: 1
                  from: 1
                  last_page: 2
                  path: "http://localhost:8000/project/public/pos-v2/api/contacts"
                  per_page: 10
                  to: 10
                  total: 16
    post:
      summary: 新增會員
      description: 新增會員
      tags:
        - Member
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOrUpdateContact'
            example:
              contact_type: 'individual'
              member_id: ''
              customer_group_id: ''
              supplier_business_name: ''
              prefix: 'Mr'
              first_name: 'aaaa'
              middle_name: 'hahaha'
              last_name: 'Lin'
              mobile: '0938145265'
              alternate_number: ''
              landline: ''
              email: '12345@nextgen.com.hk'
              dob: '12/06/2022'
              tax_number: ''
              opening_balance: 0
              pay_term_number: ''
              pay_term_type: ''
              credit_limit: ''
              address_line_1: ''
              address_line_2: ''
              city: ''
              state: ''
              country: ''
              zip_code: ''
              custom_field1: ''
              custom_field2: ''
              custom_field3: ''
              custom_field4: ''
              custom_field5: ''
              custom_field6: ''
              custom_field7: ''
              custom_field8: ''
              custom_field9: ''
              custom_field10: ''
              shipping_address: ''
              status: true
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CreateOrUpdateContact'
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: number
                    description: 是否成功
                  msg:
                    type: string
                    description: 訊息
              example:
                  success: 1
                  msg: 成功
        '404':
          description: 失敗
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: number
                    description: 是否成功
                  msg:
                    type: string
                    description: 訊息
              example:
                  success: 0
                  msg: 系統暫未能運作，請稍後再試

  /pos-v2/api/contacts/{contact_id}:
    get:
      summary: 取得會員資料
      description: 取得會員資料
      tags:
        - Member
      parameters:
        - in: path
          name: contact_id
          required: true
          schema:
            type: number
          description: 會員ID
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ContactDetailResponse'
              example:
                address_line_1: null
                address_line_2: null
                alternate_number: null
                city: null
                member_id: "CO0002"
                contact_type: "individual"
                country: null
                custom_field1: null
                custom_field2: null
                custom_field3: null
                custom_field4: null
                custom_field5: null
                custom_field6: null
                custom_field7: null
                custom_field8: null
                custom_field9: null
                custom_field10: null
                customer_group_id: null
                dob: null
                email: null
                first_name: "Jack"
                landline: null
                last_name: null
                middle_name: null
                mobile: "0912345678"
                pay_term_number: null
                pay_term_type: null
                position: null
                prefix: null
                shipping_address: null
                shipping_custom_field_details: null
                state: null
                supplier_business_name: null
                tax_number: null
                zip_code: null
                opening_balance: 0
                balance: 0
                due: 3
                return_due: 646.05
                total_rp: 548
                amount_for_rp: 1096
                created_at: 02-02-2023 12:56
        '404':
          description: 失敗
          content:
            application/json:
              example:
                  success: 0
                  msg: 系統暫未能運作，請稍後再試
    put:
      summary: 更新會員資料
      description: 更新會員資料
      tags:
        - Member
      parameters:
        - in: path
          name: contact_id
          required: true
          schema:
            type: number
          description: 會員ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOrUpdateContact'
            example:
              contact_type: 'individual'
              member_id: ''
              customer_group_id: ''
              supplier_business_name: ''
              prefix: 'Mr'
              first_name: 'aaaa'
              middle_name: 'hahaha'
              last_name: 'Lin'
              mobile: '0938145265'
              alternate_number: ''
              landline: ''
              email: '12345@nextgen.com.hk'
              dob: '12/06/2022'
              tax_number: ''
              opening_balance: 0
              pay_term_number: ''
              pay_term_type: ''
              credit_limit: ''
              address_line_1: ''
              address_line_2: ''
              city: ''
              state: ''
              country: ''
              zip_code: ''
              custom_field1: ''
              custom_field2: ''
              custom_field3: ''
              custom_field4: ''
              custom_field5: ''
              custom_field6: ''
              custom_field7: ''
              custom_field8: ''
              custom_field9: ''
              custom_field10: ''
              shipping_address: ''
              status: true
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CreateOrUpdateContact'
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: number
                    description: 是否成功
                  msg:
                    type: string
                    description: 訊息
              example:
                  success: 1
                  msg: 成功
        '404':
          description: 失敗
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: number
                    description: 是否成功
                  msg:
                    type: string
                    description: 訊息
              example:
                  success: 0
                  msg: 系統暫未能運作，請稍後再試

# Clock In/Out
  /pos-v2/api/employee/shifts:
    get:
      summary: 班次類型
      tags:
        - Clock In/Out
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    title:
                      type: string
                      description: 標題
                    value:
                      type: string
                      description: 內容
              example:
                  - title: 全部
                    value: all
                  - title: 彈性班表
                    value: 1
                  - title: 平日班
                    value: 2
                  - title: 假日班
                    value: 3

  /pos-v2/api/employee/attendances:
    get:
      summary: 出勤紀錄
      description: 取得產品清單
      tags:
        - Clock In/Out
      parameters:
        - in: query
          name: start_date
          schema:
            type: string
          description: 起始時間
        - in: query
          name: end_date
          schema:
            type: string
          description: 結束時間
        - in: query
          name: term
          schema:
            type: string
          description: 搜尋關鍵字
        - in: query
          name: shift_id
          schema:
            type: integer
          description: 班次 ID
        - in: query
          name: is_only_alert
          schema:
            type: integer
            minimum: 0
            maximum: 1
          description: 僅顯示異常狀態
        - in: query
          name: sort
          description: 排序
          schema:
            type: object
            properties:
              start_date :
                description: 時間
                type: string
                enum:
                  - "ASC"
                  - "DESC"
              shift :
                description: 班次
                type: string
                enum:
                  - "ASC"
                  - "DESC"
        - in: query
          name: length
          schema:
            type: integer
          description: 單頁筆數
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
          description: 第幾頁
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  recordsTotal:
                    type: integer
                    description: 本頁筆數
                  total:
                    type: integer
                    description: 總筆數
                  pages:
                    type: integer
                    description: 總頁數
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        date:
                          type: string
                          description: 日期
                        shift_name:
                          type: string
                          description: 班表
                        full_name:
                          type: string
                          description: 員工姓名
                        clock_in_time:
                          type: string
                          description: 上班卡
                        clock_out_time:
                          type: string
                          description: 下班卡
                        end_time:
                          type: string
                          description: 結算時間
                        ip_address:
                          type: string
                          description: IP 位置
                        clock_in_note:
                          type: string
                          description: 上班打卡紀錄
                        clock_out_note:
                          type: string
                          description: 下班打卡記錄
                        shift_start_time:
                          type: string
                          description: 該班別預計上班時間
                        shift_end_time:
                          type: string
                          description: 該班別預計下班時間
                        clock_in_location:
                          type: string
                          description: 打卡上班的地點
                        clock_out_location:
                          type: string
                          description: 打卡下班的地點
                        shift_type:
                          type: string
                          description: 打卡下班的地點
                        shift_id: 
                          type: integer
                        work_duration:
                          type: string
                          description: 上班時間 
              example:
                recordsTotal: 2
                total: 2
                pages: 1
                data:
                  - id: 1
                    shift_id: 1
                    shift_type: 'asd'
                    clock_out_location: 'asd'
                    clock_in_location: 'asd'
                    shift_end_time: '18:30:00'
                    shift_start_time: '09:30:00'
                    clock_in_time: '2023-02-06 09:00:00'
                    clock_out_time: '2023-02-06 18:00:00'
                    ip_address: '172.18.0.1'
                    clock_in_note: adasdasdsad
                    clock_out_note: adasdasdsad
                    end_time: '2023-02-06 18:00:00'
                    full_name: employee
                    shift_name: 平日班
                    work_duration : '02:00:00'
  /pos-v2/api/employee/duties:
    get:
      summary: 本日值班
      description: 本日值班
      tags:
        - Clock In/Out
      parameters:
        - in: query
          name: location_id
          schema:
            type: integer
          description: 營業地點ID
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: 總筆數
                  msg:
                    type: string
                    description: 訊息
                  data:
                    type: object
                    properties:
                      duties:
                        type: array
                        items:
                          type: object
                          $ref: '#/components/schemas/EmployeeDutyResponse'
                      leaves:
                        type: array
                        items:
                          type: object
                          $ref: '#/components/schemas/EmployeeDutyResponse'

              example:
                recordsTotal: 2
                recordsFiltered: 2
                data:
                  duties:
                    - user_id: 113
                      user_name : 員工一號
                      shift_id: 1
                      shift_name: 平日班
                      shift_type: fixed_shift
                      start_time: "09:00:00"
                      end_time: "18:00:00"
                      essentials_attendances_id: 2
                      clock_in_note: 已上班
                      clock_out_note: null
                    - user_id: 114
                      user_name : 員工二號
                      shift_id: null
                      shift_name: 彈性班表
                      shift_type: flexible_shift
                      start_time: null
                      end_time: null
                      essentials_attendances_id: 6
                      clock_in_note: 臨時支援
                      clock_out_note: 已下班
                    - user_id: 115
                      user_name : 員工三號
                      shift_id: 2
                      shift_name: 平日下午班
                      shift_type: fixed_shift
                      start_time: "13:00:00"
                      end_time: "21:00:00"
                      essentials_attendances_id: null
                      clock_in_note: null
                      clock_out_note: null
                  leaves:
                    - user_id: 222
                      user_name : 員工四號
                      shift_id: null
                      shift_name: null
                      shift_type: null
                      start_time: null
                      end_time: null
                      essentials_attendances_id: null
                      clock_in_note: null
                      clock_out_note: null

# Cash Register   
  /pos-v2/api/cash-register:
    get:
      summary: 取得收銀機詳細內容
      description: 取得收銀機詳細內容
      tags:
        - Cash Register
      parameters:
        - in: query
          name: location_id
          schema:
            type: integer
          description: 營業地點ID
          required: true
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CashRegisterDetailResponse'
              example:
                id: 258
                open_time: 02/15/2023 18:38
                close_time: 02/17/2023 09:29
                alert_pos_cash: 1000
                cash_in_hand: 0
                total_sell: 200
                total_expense: 0
                total_refund: 0
                total_unpaid: 100
                sell:
                  - key: cash_in_hand
                    value: 0
                  - key: cash
                    value: 200
                  - key: cheque
                    value: 0
                  - key: card
                    value: 0
                  - key: bank_transfer
                    value: 0
                  - key: advance
                    value: 0
                  - key: other
                    value: 0
                  - key: custom_pay_1
                    value: 0
                  - key: custom_pay_2
                    value: 0
                  - key: custom_pay_3
                    value: 0
                  - key: custom_pay_4
                    value: 0
                  - key: custom_pay_5
                    value: 0
                  - key: custom_pay_6
                    value: 0
                  - key: custom_pay_7
                    value: 0
                expense:
                  - key: cash_in_hand
                    value: 0
                  - key: cash
                    value: 200
                  - key: cheque
                    value: 0
                  - key: card
                    value: 0
                  - key: bank_transfer
                    value: 0
                  - key: advance
                    value: 0
                  - key: other
                    value: 0
                  - key: custom_pay_1
                    value: 0
                  - key: custom_pay_2
                    value: 0
                  - key: custom_pay_3
                    value: 0
                  - key: custom_pay_4
                    value: 0
                  - key: custom_pay_5
                    value: 0
                  - key: custom_pay_6
                    value: 0
                  - key: custom_pay_7
                    value: 0
                refund:
                  - key: cash_in_hand
                    value: 0
                  - key: cash
                    value: 200
                  - key: cheque
                    value: 0
                  - key: card
                    value: 0
                  - key: bank_transfer
                    value: 0
                  - key: advance
                    value: 0
                  - key: other
                    value: 0
                  - key: custom_pay_1
                    value: 0
                  - key: custom_pay_2
                    value: 0
                  - key: custom_pay_3
                    value: 0
                  - key: custom_pay_4
                    value: 0
                  - key: custom_pay_5
                    value: 0
                  - key: custom_pay_6
                    value: 0
                  - key: custom_pay_7
                    value: 0
                cny:
                  sell:
                    - key: custom_pay_pos_1
                      value: 1000
                    - key: custom_pay_pos_2
                      value: 2000
                    - key: custom_pay_pos_3
                      value: 3000
                    - key: custom_pay_pos_4
                      value: 4000
                    - key: custom_pay_pos_5
                      value: 5000
                  expense:
                    - key: custom_pay_pos_1
                      value: 0
                    - key: custom_pay_pos_2
                      value: 0
                    - key: custom_pay_pos_3
                      value: 0
                    - key: custom_pay_pos_4
                      value: 0
                    - key: custom_pay_pos_5
                      value: 0
                  refund:
                    - key: custom_pay_pos_1
                      value: 0
                    - key: custom_pay_pos_2
                      value: 0
                    - key: custom_pay_pos_3
                      value: 0
                    - key: custom_pay_pos_4
                      value: 0
                    - key: custom_pay_pos_5
                      value: 0

  /pos-v2/api/cash-register/status:
    get:
      summary: 取得收銀機狀態
      description: 取得收銀機狀態
      tags:
        - Cash Register
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CashRegisterStatusResponse'
              example:
                status: open
                opened_at: 02/15/2023 18:38
                location_id: 1

  /pos-v2/api/cash-register/open:
    post:
      summary: 啟動收銀機
      description: 啟動收銀機
      tags:
        - Cash Register
      parameters:
        - in: query
          name: location_id
          schema:
            type: integer
          description: 營業地點ID
        - in: query
          name: amount
          schema:
            type: integer
          description: 承上現金結餘
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: number
                    description: 是否成功
                  msg:
                    type: string
                    description: 訊息
              example:
                  success: 1
                  msg: 成功

  /pos-v2/api/cash-register/close:
    post:
      summary: 關閉收銀機
      description: 關閉收銀機
      tags:
        - Cash Register
      parameters:
        - in: query
          name: location_id
          schema:
            type: integer
          description: 營業地點ID
          required: true
        - in: query
          name: cash
          schema:
            type: integer
          description: 最終現金金額
          required: true
        - in: query
          name: card_qty
          schema:
            type: integer
          description: 信用卡收單總張數
          required: true
        - in: query
          name: cheque_qty
          schema:
            type: integer
          description: 支票總張數
          required: true
        - in: query
          name: denominations
          schema:
            type: object
            additionalProperties:
              type: integer
          description: 營業地點ID
          examples:
            denominations:
              summary: 面額張數
              value: {"10":5,"20":0,"50":30,"100":3,"500":1,"1000":1}
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: number
                    description: 是否成功
                  msg:
                    type: string
                    description: 訊息
              example:
                  success: 1
                  msg: 成功

  /pos-v2/api/cash-register/expense:
    post:
      summary: 收銀機支出
      description: 收銀機支出
      tags:
        - Cash Register
      parameters:
        - in: query
          name: location_id
          schema:
            type: integer
          description: 營業地點ID
          required: true
        - in: query
          name: date
          schema:
            type: string
          description: 支付時間
          required: true
        - in: query
          name: amount
          schema:
            type: number
          description: 支出金額
          required: true
        - in: query
          name: method
          schema:
            type: string
          description: 付費方式
          required: true
        - in: query
          name: expense_id
          schema:
            type: integer
          description: 支出類別ID
        - in: query
          name: ref_no
          schema:
            type: string
          description: 參考號
        - in: query
          name: employee_id
          schema:
            type: integer
          description: 相關用戶id
        - in: query
          name: tax_id
          schema:
            type: integer
          description: 適用稅ID
        - in: query
          name: tax_amount
          schema:
            type: number
          description: 稅項金額
        - in: query
          name: additional_notes
          schema:
            type: string
          description: 支出說明
        - in: query
          name: payment_notes
          schema:
            type: string
          description: 付費說明
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: number
                    description: 是否成功
                  msg:
                    type: string
                    description: 訊息
              example:
                  success: 1
                  msg: 成功
