openapi: 3.0.1

info:
  title: 醫藥淘
  version: 1.0.0

servers:
  - url: http://localhost:1339/api/
  - url: https://api-dev.e-drugsearch.com.hk/api/

components:
  parameters:
    page:
      in: query
      name: pagination[page]
      schema:
        type: number
      required: true
      example: 1
    prepage:
      in: query
      name: pagination[pageSize]
      schema:
        type: number
      required: true
      example: 100
    language:
      in: header
      name: accept-language
      schema:
        type: string
      required: false
      example: 'en'
  schemas:
    ProductsResponse:
      type: object
      properties:
        data:
          type: array
          items:
            type: object
            properties:
              id:
                type: number
                description: 藥品 id
              sku:
                type: string
                description: 藥品 SKU
              name:
                type: string
                description: 藥品名稱
              qty_available:
                type: number
                description: 庫存數量
              alert_quantity:
                type: string
                description: 庫存警告數量
              default_sell_price:
                type: string
                description: 售價
              product_custom_field1:
                type: string
                description: 藥品證號
              product_custom_field2:
                type: string
                description: 藥品英文名稱
              product_custom_field3:
                type: string
                description: 藥廠
              product_custom_field4:
                type: string
                description: 藥品主成份
    SingleProductResponse:
      type: object
      properties:
        data:
          type: object
          properties:
            id:
              type: number
              description: 藥品 id
            sku:
              type: string
              description: 藥品 SKU
            name:
              type: string
              description: 藥品名稱
            unit_id:
              type: integer
              description: 單位ID
            qty_available:
              type: number
              description: 庫存總數量
            alert_quantity:
              type: string
              description: 庫存警告數量
            unit_short_name:
              type: string
              description: 單位簡稱
            product_custom_field1:
              type: string
              description: 藥品證號
            product_custom_field2:
              type: string
              description: 藥品英文名稱
            product_custom_field3:
              type: string
              description: 藥廠
            product_custom_field4:
              type: string
              description: 藥品主成份
            stock:
              type: array
              items:
                type: object
                properties:
                  variation_id:
                    type: integer
                    description: 規格ID
                  unit_name:
                    type: string
                    description: 單位名稱
                  default_sell_price:
                    type: string
                    description: 售價(不含稅)
                  qty_available:
                    type: string
                    description: 庫存數量
    DrugOptionsResponse:
      type: object
      properties:
        msg :
          type: string
        data:
          type: object
          properties:
            key:
              type: string
              description: 用來執行搜尋用的參數
            value:
              type: string
              description: 顯示名稱

paths:

  # ====================
  #
  # Member
  #

  /register:
    post:
      summary: 會員註冊 EYT 帳號
      tags:
        - member
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: test
                email:
                  type: string
                  example: test@123.com
                mobile:
                  type: string
                  example: 0912345678
                password:
                  type: string
                  example: 123
                confirmPassword:
                  type: string
                  example: 123
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string


  # ====================
  #
  # posts
  #

  /all/posts:
    get:
      summary: 獲取文章列表
      tags:
        - posts
      parameters:
        - in: query
          name: keyword
          schema:
            type: string
          description: 關鍵字搜尋(title, content, tags, store, type)-模糊搜尋
        - in: query
          name: startTime
          schema:
            type: string
            minimum: 1
          description: 篩選功能(文章發佈時間)   
        - in: query
          name: endTime
          schema:
            type: string
          description: 篩選功能(文章發佈時間)   
        - in: query
          name: storeName
          schema:
            type: string
            minimum: 1
          description: 篩選功能-來源名稱（精準搜尋）     
        - in: query
          name: sortCondition
          schema:
            type: string
            enum: [nameAsc, nameDesc,timeAsc,timeDesc]
          description: 排序功能
        - in: query
          name: pageSize
          schema:
            type: integer
          description: 單頁筆數
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
          description: 第幾頁                                       
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        title:
                          type: string
                          description: 文章標題
                        content:
                          type: string
                          description: 文章內容
                        type:
                          type: string
                          description: 文章類別（大標）
                        viewCount:
                          type: number
                          description: 文章瀏覽數
                        store:
                          type: object
                          properties:
                            id:
                              type: number
                            name:
                              type: string
                              description: 文章來源
                        tags:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                              tagName:
                                type: string
                                description: 標籤名稱
                        publishedAt:
                          type: string
                        memberCount:
                          type: number
                          description: 收藏數
                  pagination:
                    type: object
                    properties:
                      page:
                        type: string
                        description: 當前頁面
                      pageSize:
                        type: string
                        description: 每頁筆數
                      pageCount:
                        type: number
                        description: 總共頁數
                      total:
                        type: number
                        description: 總共筆數
  /add/posts:
    post:
      summary: 建立文章
      tags:
        - posts
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                title:
                  type: string
                  description: 文章標題
                content:
                  type: string
                  description: 文章內容
                store:
                  type: number
                  description: 該文章是屬於哪一個供應商，當前因無後台機制故先寫死
                  example: 1
                type:
                  type: string
                  example: 藥物新知
                  description: 文章類別
                locale:
                  type: string
                  enum: ['zh', 'en', 'zh-CN']
                  description: 文章語言，上面分別對應 繁體中文，英文，簡體中文
                image:
                  type: string
                  example: binary
                  description: 文章圖片 
                sort:
                  type: number        
                  description: 排序順序
                  example: 999     
                publishStart:
                  type: string
                  description: 預計上架時間（實際功能會到 phaseII 實作）
                publishEnd:
                  type: number
                  description: 預計下架時間（實際功能會到 phaseII 實作）

              required:
                - title
                - store
                - type
                - locale
                - image

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      title:
                        type: string
                        description: 文章標題
                      content:
                        type: string
                        description: 文章內容
                      store:
                        type: string
                        description: 發布來源
                      type:
                        type: string
                        description: 文章類別（大標）
                      sort:
                        type: number
                        description: 文章排序的值
                      viewCount:
                        type: number
                        description: 文章瀏覽數
                      isApproved:
                        type: boolean
                        description: 文章是否已核准（核轉狀態下才會出現在前台）
                      isDeleted:
                        type: boolean
                      publishStart:
                        type: string
                      publishEnd:
                        type: string
                      locale:
                        type: string
                        description: 文章語系
                      image:
                        type: string
                        description: 文章圖片

        '500':
          description: 伺服器錯誤
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      msg:
                        type: string
                        example:  伺服器錯誤
        '400':
          description: 失敗
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      msg:
                        type: string
                        example:  建立失敗                              

  /all/posts/{id}:
    get:
      summary: 獲取指定文章
      tags:
        - posts
      parameters:
        - name: id
          in: path
          description: 文章id
          required: true
          example: 3
          schema:
            type: string
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  post:
                    type: object
                    properties:
                      title:
                        type: string
                        description: 文章標題
                      content:
                        type: string
                        description: 文章內容
                      store:
                        type: object
                        properties:
                          id:
                            type: number
                          name:
                            type: string
                            description: 文章來源
                      type:
                        type: string
                        description: 文章類別（大標）
                      viewCount:
                        type: number
                        description: 文章瀏覽數
                      image:
                        type: string
                        description: 文章圖片
                      tags:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            tagName:
                              type: string
                              description: hashTag名稱
                      publishedAt:
                        type: string
                      memberCount:
                        type: number        
  /update/posts/{id}:    
    # review
    put:
      summary: 更新指定文章
      tags:
        - posts
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: post id
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                title:
                  type: string
                  description: 文章標題
                content:
                  type: string
                  description: 文章內容
                store:
                  type: number
                  description: 該文章是屬於哪一個供應商，當前因無後台機制故先寫死
                  example: 1
                type:
                  type: string
                  example: 藥物新知
                  description: 文章類別
                locale:
                  type: string
                  enum: ['zh', 'en', 'zh-CN']
                  description: 文章語言，上面分別對應 繁體中文，英文，簡體中文
                image:
                  type: string
                  example: binary
                  description: 文章圖片 
                sort:
                  type: number        
                  description: 排序順序
                  example: 999     
                publishStart:
                  type: string
                  description: 預計上架時間（實際功能會到 phaseII 實作）
                publishEnd:
                  type: number
                  description: 預計下架時間（實際功能會到 phaseII 實作）

              required:
                - title
                - store
                - type
                - locale
                - image

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      title:
                        type: string
                        description: 文章標題
                      content:
                        type: string
                        description: 文章內容
                      store:
                        type: string
                        description: 文章來源
                      type:
                        type: string
                        description: 文章類別（大標）
                      sort:
                        type: number
                        description: 文章排序值
                      viewCount:
                        type: number
                        description: 文章瀏覽數
                      isApproved:
                        type: boolean
                      isDeleted:
                        type: boolean
                      publishStart:
                        type: string
                      publishEnd:
                        type: string
                      createdAt:
                        type: string
                      updatedAt:
                        type: string
                      locale:
                        type: string
                        description: 文章語系
                      image:
                        type: string
                        description: 文章圖片
                      tags:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            tagName:
                              type: string  

        '500':
          description: 伺服器錯誤
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      msg:
                        type: string
                        example:  伺服器錯誤
        '400':
          description: 失敗
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      msg:
                        type: string
                        example:  建立失敗         

  /new/posts:  
    get:
      summary: 獲取最新文章
      tags:
        - posts
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        title:
                          type: string
                          description: 文章標題
                        content:
                          type: string
                          description: 文章內容
                        type:
                          type: string
                          description: 文章類別（大標）
                        viewCount:
                          type: number
                          description: 文章瀏覽數
                        image:
                          type: string
                        store:
                          type: object
                          properties:
                            id:
                              type: number
                            name:
                              type: string
                              description: 文章來源
                        tags:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                              tagName:
                                type: string
                        publishedAt:
                          type: string
                        memberCount:
                          type: number
                          description: 文章收藏數

  /posts/tag/:tagId:  
    get:
      summary: 搜尋具有特定tag的文章
      tags:
        - posts
      parameters:
        - in: path
          name: tagId
          required: true
          schema:
            type: string
          description: tag id  
        - in: query
          name: pageSize
          schema:
            type: integer
          description: 單頁筆數
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
          description: 第幾頁                     
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        title:
                          type: string
                          description: 文章標題
                        content:
                          type: string
                          description: 文章內容
                        type:
                          type: string
                          description: 文章類別（大標）
                        viewCount:
                          type: number
                          description: 文章瀏覽數
                        store:
                          type: object
                          properties:
                            id:
                              type: number
                            name:
                              type: string
                              description: 文章來源
                        tags:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                              tagName:
                                type: string
                                description: 標籤名稱
                        publishedAt:
                          type: string
                        memberCount:
                          type: number
                          description: 收藏數
                  pagination:
                    type: object
                    properties:
                      page:
                        type: string
                        description: 當前頁面
                      pageSize:
                        type: string
                        description: 每頁筆數
                      pageCount:
                        type: number
                        description: 總共頁數
                      total:
                        type: number
                        description: 總共筆數

  /collect/posts/{id}:  
    post:
      summary: 收藏文章
      tags:
        - posts
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: post id                    

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    example: 收藏文章成功
        '400':
          description: 失敗
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    example: 收藏文章失敗            

  /cancel/posts/{id}:  
    put:
      summary: 取消收藏文章
      tags:
        - posts
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: post id                    

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    example: 取消收藏！

  # ====================
  #
  # stores
  #

  /stores/list:
    get:
      summary: 獲取商店的id及name
      tags:
        - stores
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        name:
                          type: string

  # ====================
  #
  # tags
  #

  /all/tags:
    get:
      summary: 獲取tags
      tags:
        - tags
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        name:
                          type: string
                        parent:
                          description: 如果有上一層的標籤，則會給上一層標籤的id，不然會給空字串
                          oneOf:
                            - type: string
                            - type: number

  /add/tags:
    post:
      summary: 建立tag
      tags:
        - tags
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                parent:
                  type: number
                  description: 標籤的父層
                tagName:
                  type: string
                  description: 標籤名稱
                type:
                  type: string
                  description: 該標籤是屬於分類還是一般標籤，default為 hashTag，分類則帶值categories
                  example: categories
                locale:
                  type: string
                  enum: ['zh', 'en', 'zh-CN']
                  description: 文章語言，上面分別對應 繁體中文，英文，簡體中文

              required:
                - tagName
                - locale

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      tagName:
                        type: string
                      parent:
                        type: object
                        properties:
                          id:
                            type: number
                            description: 父層tag的名稱（只會有一個父層）
                          tagName:
                            type: string
                            description: 父層tag的名稱（只會有一個父層）
                      children:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              description: 子層tag的名稱
                            tagName:
                              type: string
                              description: 子層tag的名稱

        '500':
          description: 伺服器錯誤
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      msg:
                        type: string
                        example:  伺服器錯誤
        '400':
          description: 失敗
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      msg:
                        type: string
                        example:  建立失敗              

  /all/tags/{id}:
    get:
      summary: 獲取tag
      tags:
        - tags
      parameters:
        - name: id
          in: path
          description: tag id
          required: true
          example: 3
          schema:
            type: string
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      tagName:
                        type: string
                      type:
                        type: string
                      parent:
                        type: object
                        properties:
                          id:
                            type: number
                          tagName:
                            type: string
                      children:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            tagName:
                              type: string

  /update/tags/{id}:
    put:
      summary: 修改tag
      tags:
        - tags
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                parent:
                  type: number
                  description: 標籤的父層
                tagName:
                  type: string
                  description: 標籤名稱
                type:
                  type: number
                  description: 該標籤是屬於分類還是一般標籤，default為 hashTag，分類則帶值categories
                  example: hashTag
                locale:
                  type: string
                  enum: ['zh', 'en', 'zh-CN']
                  description: 文章語言，上面分別對應 繁體中文，英文，簡體中文

      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: number
                      tagName:
                        type: string
                      type:
                        type: string
                      parent:
                        type: object
                        properties:
                          id:
                            type: number
                          tagName:
                            type: string
                      children:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                            tagName:
                              type: string

  # ====================
  #
  # categories
  #                              

  /categories/posts:
    get:
      summary: 獲取文章的categories
      tags:
        - categories
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                        name:
                          type: string   
                        parent_id:
                          description: 如果有上一層的標籤，則會給上一層標籤的id，不然會給空字串
                          oneOf:
                            - type: string
                            - type: number
                        children:
                          type: string
                          
  # ====================
  #
  # products
  #

  /v1/eyt/products:
    get:
      summary: 產品清單
      description: "取得產品清單"
      tags:
        - products
      # security:
      #   - bearerAuth: []
      parameters:
        - in: query
          name: location_id
          schema:
            type: integer
          description: The ID of location
          required: true
        - in: query
          name: keyword
          schema:
            type: string
          description: The keyword for search products
        - in: query
          name: per_page
          schema:
            type: integer
          description: 每頁筆數
        - in: query
          name: page
          schema:
            type: integer
          description: 頁碼
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductsResponse'
              example:
                data:
                - id: 1
                  sku: SKU123
                  name: 眼藥水
                  qty_available: 200
                  alert_quantity: 10
                  default_sell_price: 125.000
                  product_custom_field1: HK-58956
                  product_custom_field2: S.T. NATURAL TEARS EYE DROPS
                  product_custom_field3: BIO
                  product_custom_field4: Vintamic C
                - id: 2
                  sku: SKU223
                  name: 暈船藥
                  qty_available: 250
                  alert_quantity: 15
                  default_sell_price: 110.000
                  product_custom_field1: HK-68741
                  product_custom_field2: S.T. NATURAL TEARS EYE DROPS
                  product_custom_field3: BIO
                  product_custom_field4: Vintamic C
                links:
                  type: object
                  properties:
                    first:
                      type: string
                    last:
                      type: string
                    prev:
                      type: string
                    next:
                      type: string
                meta:
                  type: object
                  properties:
                    current_page:
                      type: number
                    from:
                      type: number
                    last_page:
                      type: number
                    path:
                      type: string
                    per_page:
                      type: number
                    to:
                      type: number
                    total:
                      type: number
  /v1/eyt/products/{id}:
    get:
      summary: '取得單一產品'
      description: 取得單一產品詳細資訊
      tags:
        - products
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          description: ID of product to return
          required: true
          schema:
            type: integer
            format: int64
        - name: location_id
          in: query
          description: ID of product to return
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SingleProductResponse'


  # ====================
  #
  # drug
  #
  /drugs/options/holders:
    get:
      summary: 持有人
      description: "取得持有人"
      tags:
        - drug
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/DrugOptionsResponse'
                example:
                  msg : Success
                  data:
                    - key: 1
                      name: 3M HONG KONG LTD
                    - key: 2
                      name: A P TECHNOTRADE CO

  /drugs/options/ingredients:
    get:
      summary: 藥品成分
      tags:
        - drug
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/DrugOptionsResponse'
                example:
                  msg : Success
                  data:
                    - key: 1
                      name: sulfadiazine silver
                    - key: 2
                      name: cetrimide

  /drugs/options/tags:
    get:
      summary: 藥品分類
      tags:
        - drug
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/DrugOptionsResponse'
                example:
                  msg : Success
                  data:
                    - key: Central Nervous System Agents
                      name: 中樞神經系統藥物
                    - key: Cough and Common Cold Medicines
                      name: 傷風感冒藥

  /drugs/options/saleRequirements:
    get:
      summary: 銷售要求
      tags:
        - drug
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/DrugOptionsResponse'
                example:
                  msg : Success
                  data:
                    - key: Over The Counter/For Animal Feeds
                      name: Over The Counter/For Animal Feeds
                    - key: Over-The-Counter Medicines
                      name: Over-The-Counter Medicines

  /drugs/options/names:
    get:
      summary: 藥品名稱
      tags:
        - drug
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/DrugOptionsResponse'
                example:
                  msg : Success
                  data:
                    - key: 0.015% CHLORHEXIDINE & 0.15% CETRIMIDE SOL
                      name: 0.015% CHLORHEXIDINE & 0.15% CETRIMIDE SOL
                      permitNo: HK-42682
                    - key: 0.05% CHLORHEXIDINE & 0.5% CETRIMIDE SOL
                      name: 0.05% CHLORHEXIDINE & 0.5% CETRIMIDE SOL
                      permitNo: HK-42684

  /search/drugs:
    get:
      summary: 藥品搜尋
      tags:
        - drug
      parameters:
        - in: query
          name: ingredient
          schema:
            type: integer
          description: 藥品成分 id
        - in: query
          name: holder
          schema:
            type: integer
          description: 證書持有人id
        - in: query
          name: tags
          schema:
            type: string
          description: 藥品分類
        - in: query
          name: saleRequirement
          schema:
            type: string
          description: 銷售要求
        - in: query
          name: name
          schema:
            type: string
          description: 藥品名稱
        - in: query
          name: permitNo
          schema:
            type: string
          description: permit No
        - in: query
          name: perPage
          schema:
            type: integer
          description: 每頁筆數
        - in: query
          name: page
          schema:
            type: integer
          description: 頁碼
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    msg :
                      type: string
                    data:
                      type: array
                      items:
                        type: object
                        properties:
                          isCollect:
                            type: boolean
                            description: 是否收藏
                          permitNo:
                            type: string
                            description: 用來執行搜尋用的參數
                          name:
                            type: string
                            description: 顯示名稱
                          nameZh:
                            type: string
                            description: 顯示名稱(中文)
                          url:
                            type: string
                            description: 藥品圖示
                          ingredients:
                            type: array
                            description: 顯示名稱
                    pagination:
                        type: object
                        properties:
                          page:
                            type: integer
                            description: 起始頁數
                          pageSize:
                            type: integer
                            description: 每頁資料筆數
                          pageCount:
                            type: integer
                            description: 總頁數
                          total:
                            type: integer
                            description: 總筆數
                example:
                  msg : Success
                  pagination :
                    page: 1
                    pageSize: 50
                    pageCount: 1
                    total: 1
                  data:
                    - isCollect: false
                      permitNo: HK-21197
                      name: MARSEDYL ELIXIR
                      nameZh: 萬咳療
                      url: https://dcq8lblln1b30.cloudfront.net/assets/images/1673839860.png
                      ingredients:
                        - codeine phosphate
                        - ephedrine hydrochloride
                        - promethazine hydrochloride

  /drugs/detail/{permitNo}:
    get:
      summary: 藥品明細
      tags:
        - drug
      parameters:
        - name: permitNo
          in: path
          description: 藥品核准碼
          required: true
          example: HK-42682
          schema:
            type: string
      responses:
          '200':
            description: 成功
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    msg:
                      type: string
                    data:
                      type: object
                      properties:
                        isCollect:
                          type: boolean
                        permitNo:
                          type: string
                        precaution:
                          type: string
                        indication:
                          type: string
                        holder:
                          type: object
                          properties:
                            name:
                              type: string
                            address:
                              type: string
                        name:
                          type: string
                        nameZh:
                          type: string
                        sideEffect:
                          type: string
                        legalClassification:
                          type: string
                        saleRequirement:
                          type: string
                        registrationDate:
                          type: string
                        ingredients:
                          type: array
                          items:
                            type: string
                        urls:
                          type: array
                          items:
                            type: string
                        packages:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: number
                              dosage:
                                type: number
                              usage:
                                type: string
                              unit:
                                type: string
                              sku:
                                type: string
                              createdAt:
                                type: string
                              updatedAt:
                                type: string
                              name:
                                type: string
                              dosageForm:
                                type: string
                              urls:
                                type: array
                                items:
                                  type: string
                example:
                  msg : Success
                  data:
                    - isCollect: false
                      permitNo: HK-65977
                      name: MAX COLTALIN COUGH HOT REMEDY POWDER FOR ORAL SOLUTION
                      nameZh: 幸福傷風咳-熱飲5包
                      precaution: 測試資料
                      indication:
                      legalClassification: Not A Poison
                      saleRequirement: Over-The-Counter Medicines
                      registrationDate: 2018-11-14
                      url: https://dcq8lblln1b30.cloudfront.net/assets/images/1673839860.png
                      ingredients:
                        - guaifenesin
                        - paracetamol
                        - phenylephrine hydrochloride
                      urls:
                        - https://s3.ap-southeast-1.amazonaws.com/medicine-s3.cloudsatlas.com.hk/017b5138_8b8c_4e50_947a_11b2e09f1e34_a1b70956e7.png
                        - https://s3.ap-southeast-1.amazonaws.com/medicine-s3.cloudsatlas.com.hk/42e68e79_ee43_4f11_bd64_4108527a0712_d018c4fc13.png
                        - https://s3.ap-southeast-1.amazonaws.com/medicine-s3.cloudsatlas.com.hk/f0db146f_7cea_4ae0_abab_000c3e70ddfb_1087e50d9e.png
                      packages:
                        sku: 3514671130562
                        name: 幸福傷風咳-熱飲5包
                        dosage: 1
                        usage: oral
                        unit: sachet
                        dosageForm: powder
                        urls:
                          - https://s3.ap-southeast-1.amazonaws.com/medicine-s3.cloudsatlas.com.hk/f0db146f_7cea_4ae0_abab_000c3e70ddfb_a1c38f0e0f.png
                      holder:
                        name: FP HEALTHCARE LIMITED
                        address: FLAT/RM A, 3/F, SUN KING FACTORY BUILDING, 1-7, SHING CHUEN ROAD, TAI WAI, SHATIN, NEW TERRITORIES